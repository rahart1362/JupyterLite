"use strict";(self.webpackChunk_anaconda_assistant=self.webpackChunk_anaconda_assistant||[]).push([[723],{5719:(e,t,n)=>{n.r(t),n.d(t,{AssistantPlugin:()=>ya});const a=new(n(6805).LabIcon)({name:"assistant:wizard",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 16 16" fill="none">\n  <path\n    d="M10.125 3.25C10.0312 3.1875 10 3.09375 10 3C10 2.90625 10.0312 2.84375 10.125 2.78125L12 2L12.75 0.15625C12.8125 0.0625 12.9062 0 13 0C13.0938 0 13.1562 0.0625 13.2188 0.15625L14 2L15.8438 2.78125C15.9375 2.84375 16 2.90625 16 3C16 3.09375 15.9375 3.1875 15.8438 3.25L14 4L13.2188 5.875C13.1562 5.96875 13.0938 6 13 6C12.9062 6 12.8125 5.96875 12.75 5.875L12 4L10.125 3.25ZM15.8438 12.7812C15.9375 12.8438 16 12.9062 16 13C16 13.0938 15.9375 13.1875 15.8438 13.25L14 14L13.2188 15.875C13.1562 15.9688 13.0938 16 13 16C12.9062 16 12.8125 15.9688 12.75 15.875L12 14L10.125 13.25C10.0312 13.1875 10 13.0938 10 13C10 12.9062 10.0312 12.8438 10.125 12.7812L12 12L12.75 10.1562C12.8125 10.0625 12.9062 10 13 10C13.0938 10 13.1562 10.0625 13.2188 10.1562L14 12L15.8438 12.7812ZM12 8C12 8.1875 11.875 8.375 11.7188 8.4375L8.1875 10.2188L6.4375 13.75C6.34375 13.9062 6.15625 14 6 14C5.78125 14 5.625 13.9062 5.53125 13.75L3.78125 10.2188L0.25 8.4375C0.09375 8.375 0 8.1875 0 8C0 7.8125 0.09375 7.625 0.25 7.5625L3.78125 5.78125L5.53125 2.28125C5.71875 1.9375 6.25 1.9375 6.4375 2.28125L8.1875 5.78125L11.7188 7.5625C11.875 7.625 12 7.8125 12 8Z"\n    fill="#31a824"\n  />\n</svg>'});var s=n(1464);class o{constructor(e){this._commands=e}createNew(e){const t=new s.ToolbarButton({tooltip:"Anaconda Assistant",icon:a,onClick:()=>{this._commands.execute(xa)}});return e.toolbar.insertAfter("cellType","assistant",t),e.toolbar.insertBefore("spacer","assistant",t),t}_commands}var r=n(4882);let i,c=[];const l=new class{corePlugin=null;coreReady=null;constructor(){}async setCore(e){this.corePlugin=e,this.coreReady=await e.ready()}getCore(){if(!this.corePlugin)throw new Error("Core not set");return this.corePlugin}getCoreReady(){if(this.getCore(),!this.coreReady)throw new Error("Core not ready");return this.coreReady}getFeatureFlagBool(e){return this.getCoreReady().featureFlag.getBool(e,!1)}};var d,u=n(6029),m=n.n(u),h=n(6947),p=n(2818);!function(e){e.ChatBot=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",...e},m().createElement("path",{fill:"currentColor",d:"M160 0C124.7 0 96 28.7 96 64V176H59.7c-5.5-9.6-15.9-16-27.7-16c-17.7 0-32 14.3-32 32s14.3 32 32 32c11.8 0 22.2-6.4 27.7-16H96V352c0 35.3 28.7 64 64 64h64v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L373.3 416H480c35.3 0 64-28.7 64-64V208h36.3c5.5 9.6 15.9 16 27.7 16c17.7 0 32-14.3 32-32s-14.3-32-32-32c-11.8 0-22.2 6.4-27.7 16H544V64c0-35.3-28.7-64-64-64H160zm0 128c0-17.7 14.3-32 32-32H448c17.7 0 32 14.3 32 32V256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V128zm64 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm192 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"}))},e.AnacondaLogo=function(e){return m().createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m().createElement("g",null,m().createElement("path",{d:"M3.69338 15.348V15.2893C3.69338 14.6966 3.75197 14.1333 3.84112 13.5713V13.5126L3.78253 13.4832C3.25018 13.2763 2.7484 12.9799 2.24662 12.713L2.18803 12.6836L2.15874 12.7423C1.83398 13.3938 1.56781 14.1052 1.33093 14.8167L1.30164 14.8754L1.36022 14.9048C2.09888 15.1117 2.83755 15.2599 3.60551 15.3199L3.69466 15.3493L3.69338 15.348Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M5.22926 5.18455C5.22926 5.16496 5.22926 5.16496 5.22926 5.18455C4.78606 5.18455 4.37215 5.21393 3.92896 5.24331C3.98754 5.68781 4.0474 6.10293 4.16584 6.54743C4.4613 6.04417 4.81535 5.5703 5.22926 5.18455Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M3.69337 15.8807V15.8219H3.63479C3.01456 15.7632 2.36505 15.6444 1.71426 15.4962L1.53723 15.4669L1.62638 15.615C2.18802 16.4746 2.89612 17.2449 3.72394 17.9257L3.84238 18.0445V17.8375C3.75323 17.1555 3.69464 16.4746 3.69464 15.882L3.69337 15.8807Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M6.79449 0.533936C6.02653 0.800892 5.28787 1.15598 4.60779 1.60048C5.10957 1.68989 5.61263 1.80741 6.11441 1.95557C6.32073 1.48169 6.52832 1.00781 6.79449 0.533936Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M10.0153 0C9.6307 0 9.24736 0.029378 8.89331 0.0587559C9.42566 0.413846 9.92744 0.828969 10.3999 1.27347L10.7845 1.62856L10.3999 2.01431C10.0752 2.31064 9.75042 2.66573 9.45495 3.0221V3.05148C9.45495 3.05148 9.39637 3.11023 9.30722 3.22902C9.5441 3.19964 9.77971 3.19964 10.0166 3.19964C13.7685 3.19964 16.811 6.25112 16.811 10.0141C16.811 13.777 13.7685 16.8285 10.0166 16.8285C8.71628 16.8285 7.50513 16.4734 6.471 15.8207C5.96921 15.8794 5.43686 15.9101 4.93508 15.9101C4.6982 15.9101 4.46259 15.9101 4.22571 15.8807C4.255 16.6509 4.31486 17.4505 4.43202 18.2808C6.0278 19.3767 7.94705 19.9987 10.0153 19.9987C15.54 19.9987 20 15.5243 20 9.98467C20 4.44501 15.5387 0 10.0153 0Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M8.68565 2.37066C8.89197 2.13308 9.09956 1.89678 9.30588 1.68858C8.83339 1.30283 8.3316 0.918363 7.82855 0.592651C7.50379 1.12656 7.23761 1.68858 7.00073 2.25187C7.44393 2.42941 7.88713 2.60696 8.33033 2.81516C8.50736 2.57758 8.65509 2.40003 8.68438 2.37066H8.68565Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M1.92056 8.08915L1.94985 8.1479L2.00843 8.11852C2.48093 7.79281 2.95342 7.4671 3.45647 7.20014L3.51506 7.17077V7.11201C3.36732 6.54872 3.24888 5.95605 3.1903 5.36338V5.30463H3.13171C2.39305 5.45279 1.65438 5.63034 0.975576 5.89729L0.916992 5.92667L0.946284 5.98543C1.1526 6.69689 1.50792 7.40707 1.92056 8.08915Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M1.80213 9.03692L1.74355 9.09568C1.2112 9.54018 0.70942 10.0141 0.236929 10.548L0.178345 10.6067L0.236929 10.6655C0.769277 11.11 1.30035 11.5251 1.89128 11.9096L1.94987 11.939L1.97916 11.8802C2.24533 11.4063 2.5408 10.9618 2.86556 10.5173L2.89485 10.4586L2.86556 10.4292C2.51151 10.0141 2.15619 9.59894 1.83143 9.12506L1.80213 9.03564V9.03692Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M5.73103 15.3774H5.90806L5.76032 15.2586C5.22797 14.8141 4.75548 14.3109 4.40143 13.7182V13.6888L4.28299 13.6301V13.7195C4.22441 14.2227 4.16455 14.7566 4.16455 15.2893V15.348H4.22313C4.46002 15.348 4.69563 15.3774 4.93251 15.3774H5.72976H5.73103Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M5.40623 4.29686C5.52467 3.7936 5.64311 3.31972 5.82014 2.84457C5.19991 2.66702 4.5504 2.51885 3.89961 2.42944C3.84102 3.11152 3.84102 3.73357 3.87031 4.38499C4.3721 4.32624 4.87515 4.29558 5.40623 4.29558V4.29686Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M6.3512 4.26617C6.7944 3.99921 7.26689 3.76291 7.73938 3.58409C7.38533 3.40654 7.03 3.25838 6.67595 3.13959C6.55751 3.49468 6.43907 3.88042 6.3512 4.26489V4.26617Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M1.71294 12.3847H1.65436C1.15258 12.059 0.649521 11.7027 0.17703 11.3182L0.0292969 11.1994L0.0585888 11.3769C0.17703 12.3247 0.443204 13.2737 0.855838 14.1615L0.914422 14.3096L0.973006 14.1615C1.17932 13.5982 1.4162 13.0362 1.68238 12.5023L1.71167 12.3835L1.71294 12.3847Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M2.98391 2.90332C2.39298 3.49598 1.86191 4.17679 1.448 4.88824C1.94978 4.74008 2.48213 4.62129 3.0132 4.5025C2.98391 3.96859 2.98391 3.43595 2.98391 2.90204V2.90332Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M3.27938 9.92594V9.7484C3.30867 9.12635 3.39782 8.53368 3.57484 7.97039L3.63343 7.79285L3.48569 7.88226C3.10108 8.11984 2.71774 8.35614 2.33312 8.62309L2.27454 8.65247L2.36369 8.71123C2.62986 9.06632 2.89603 9.45206 3.1915 9.77778L3.28065 9.92594H3.27938Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M3.36735 10.9631L3.33806 10.7855L3.24891 10.9337C2.98274 11.3194 2.71656 11.7333 2.48095 12.1484L2.45166 12.2072L2.51024 12.2365C2.92415 12.4741 3.36735 12.681 3.81055 12.888L3.95828 12.9467L3.8997 12.7986C3.63353 12.2353 3.4565 11.5838 3.36735 10.9618V10.9631Z",fill:"#3DAE2B"}),m().createElement("path",{d:"M1.41747 8.56306L1.47606 8.53369L1.44677 8.47493C1.12201 7.97167 0.855833 7.43776 0.589659 6.90513L0.531075 6.75696L0.472491 6.9345C0.177025 7.85288 0.0292919 8.77126 0 9.74968V9.92722L0.118441 9.80843C0.503057 9.33455 0.946256 8.91943 1.41875 8.56434L1.41747 8.56306Z",fill:"#3DAE2B"})))},e.Sparkle=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none",...e},m().createElement("path",{d:"M10.125 3.25C10.0312 3.1875 10 3.09375 10 3C10 2.90625 10.0312 2.84375 10.125 2.78125L12 2L12.75 0.15625C12.8125 0.0625 12.9062 0 13 0C13.0938 0 13.1562 0.0625 13.2188 0.15625L14 2L15.8438 2.78125C15.9375 2.84375 16 2.90625 16 3C16 3.09375 15.9375 3.1875 15.8438 3.25L14 4L13.2188 5.875C13.1562 5.96875 13.0938 6 13 6C12.9062 6 12.8125 5.96875 12.75 5.875L12 4L10.125 3.25ZM15.8438 12.7812C15.9375 12.8438 16 12.9062 16 13C16 13.0938 15.9375 13.1875 15.8438 13.25L14 14L13.2188 15.875C13.1562 15.9688 13.0938 16 13 16C12.9062 16 12.8125 15.9688 12.75 15.875L12 14L10.125 13.25C10.0312 13.1875 10 13.0938 10 13C10 12.9062 10.0312 12.8438 10.125 12.7812L12 12L12.75 10.1562C12.8125 10.0625 12.9062 10 13 10C13.0938 10 13.1562 10.0625 13.2188 10.1562L14 12L15.8438 12.7812ZM12 8C12 8.1875 11.875 8.375 11.7188 8.4375L8.1875 10.2188L6.4375 13.75C6.34375 13.9062 6.15625 14 6 14C5.78125 14 5.625 13.9062 5.53125 13.75L3.78125 10.2188L0.25 8.4375C0.09375 8.375 0 8.1875 0 8C0 7.8125 0.09375 7.625 0.25 7.5625L3.78125 5.78125L5.53125 2.28125C5.71875 1.9375 6.25 1.9375 6.4375 2.28125L8.1875 5.78125L11.7188 7.5625C11.875 7.625 12 7.8125 12 8Z",fill:"currentColor"}))},e.Settings=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",...e},m().createElement("path",{d:"M19.4922 13.4688C19.4922 14.1719 17.7734 17.3359 16.9922 17.375C16.875 17.375 16.7578 17.3359 16.6797 17.2578L14.8438 16.2031C14.1406 16.7891 13.3594 17.2578 12.5 17.5703V19.6797C12.5 19.9922 12.2656 20.2266 11.9531 20.3047C11.2891 20.4609 10.5859 20.5 9.96094 20.5C9.29688 20.5 8.63281 20.4219 7.96875 20.3047C7.69531 20.2266 7.5 19.9922 7.5 19.6797V17.5703C6.60156 17.2578 5.82031 16.7891 5.11719 16.2031L3.28125 17.2578C3.20312 17.3359 3.08594 17.375 2.96875 17.375C2.10938 17.375 0.46875 14.0547 0.46875 13.4688C0.46875 13.2734 0.585938 13.0391 0.78125 12.9219L2.61719 11.9062C2.53906 11.4375 2.5 10.9688 2.5 10.5C2.5 10.0312 2.53906 9.60156 2.61719 9.13281L0.78125 8.11719C0.585938 8 0.46875 7.76562 0.46875 7.53125C0.46875 6.86719 2.1875 3.66406 2.96875 3.66406C3.08594 3.66406 3.20312 3.70312 3.28125 3.78125L5.11719 4.83594C5.82031 4.21094 6.60156 3.78125 7.5 3.46875V1.35938C7.5 1.04688 7.69531 0.8125 7.96875 0.734375C8.63281 0.578125 9.29688 0.5 10 0.5C10.6641 0.5 11.3281 0.578125 11.9922 0.734375C12.2656 0.773438 12.5 1.04688 12.5 1.35938V3.46875C13.3594 3.78125 14.1406 4.21094 14.8438 4.83594L16.6797 3.78125C16.7578 3.70312 16.875 3.66406 16.9922 3.66406C17.8516 3.66406 19.4922 6.98438 19.4922 7.53125C19.4922 7.76562 19.375 8 19.1797 8.11719L17.3438 9.13281C17.4219 9.60156 17.5 10.0703 17.5 10.5C17.5 10.9688 17.4219 11.4375 17.3438 11.9062L19.1797 12.9219C19.375 13.0391 19.4922 13.2734 19.4922 13.4688ZM10 13.625C11.7188 13.625 13.125 12.2578 13.125 10.5C13.125 8.78125 11.7188 7.375 10 7.375C8.24219 7.375 6.875 8.78125 6.875 10.5C6.875 12.2578 8.24219 13.625 10 13.625Z",fill:"currentColor"}))},e.Magic=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...e},m().createElement("path",{d:"M15.1875 4.875C15.0469 4.78125 15 4.64062 15 4.5C15 4.35938 15.0469 4.26562 15.1875 4.17188L18 3L19.125 0.234375C19.2188 0.09375 19.3594 0 19.5 0C19.6406 0 19.7344 0.09375 19.8281 0.234375L21 3L23.7656 4.17188C23.9062 4.26562 24 4.35938 24 4.5C24 4.64062 23.9062 4.78125 23.7656 4.875L21 6L19.8281 8.8125C19.7344 8.95312 19.6406 9 19.5 9C19.3594 9 19.2188 8.95312 19.125 8.8125L18 6L15.1875 4.875ZM23.7656 19.1719C23.9062 19.2656 24 19.3594 24 19.5C24 19.6406 23.9062 19.7812 23.7656 19.875L21 21L19.8281 23.8125C19.7344 23.9531 19.6406 24 19.5 24C19.3594 24 19.2188 23.9531 19.125 23.8125L18 21L15.1875 19.875C15.0469 19.7812 15 19.6406 15 19.5C15 19.3594 15.0469 19.2656 15.1875 19.1719L18 18L19.125 15.2344C19.2188 15.0938 19.3594 15 19.5 15C19.6406 15 19.7344 15.0938 19.8281 15.2344L21 18L23.7656 19.1719ZM18 12C18 12.2812 17.8125 12.5625 17.5781 12.6562L12.2812 15.3281L9.65625 20.625C9.51562 20.8594 9.23438 21 9 21C8.67188 21 8.4375 20.8594 8.29688 20.625L5.67188 15.3281L0.375 12.6562C0.140625 12.5625 0 12.2812 0 12C0 11.7188 0.140625 11.4375 0.375 11.3438L5.67188 8.67188L8.29688 3.42188C8.57812 2.90625 9.375 2.90625 9.65625 3.42188L12.2812 8.67188L17.5781 11.3438C17.8125 11.4375 18 11.7188 18 12Z",fill:"currentColor"}))},e.MagicWand=function(e){return m().createElement("svg",{viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m().createElement("path",{d:"M3.30469 8.50781L2.48438 6.51562L0.570312 5.73438C0.492188 5.69531 0.414062 5.57812 0.414062 5.5C0.414062 5.42188 0.492188 5.34375 0.570312 5.26562L2.48438 4.48438L3.30469 2.53125C3.34375 2.45312 3.46094 2.375 3.53906 2.375C3.61719 2.41406 3.73438 2.45312 3.77344 2.53125L4.59375 4.44531V4.48438L6.50781 5.26562C6.58594 5.30469 6.66406 5.42188 6.66406 5.53906C6.66406 5.61719 6.58594 5.69531 6.50781 5.73438L4.59375 6.55469L3.77344 8.50781C3.73438 8.58594 3.61719 8.625 3.53906 8.625C3.46094 8.625 3.34375 8.58594 3.30469 8.50781ZM8.53906 3L7.36719 2.49219C7.32812 2.49219 7.28906 2.41406 7.28906 2.375C7.28906 2.33594 7.32812 2.29688 7.36719 2.25781L8.53906 1.75L9.04688 0.617188C9.04688 0.539062 9.16406 0.5 9.16406 0.5C9.20312 0.5 9.28125 0.539062 9.32031 0.617188L9.78906 1.75L10.9609 2.21875C11 2.25781 11.0391 2.29688 11.0391 2.375C11.0391 2.41406 11 2.49219 10.9609 2.49219L9.78906 3L9.32031 4.17188C9.28125 4.25 9.24219 4.25 9.16406 4.25C9.125 4.25 9.04688 4.25 9.04688 4.13281L8.53906 3ZM20.4141 2.375C21.1562 3.11719 21.1562 4.32812 20.4141 5.03125L5.49219 19.9531C4.78906 20.6953 3.57812 20.6953 2.83594 19.9531L1.54688 18.625C0.804688 17.9219 0.804688 16.7109 1.54688 16.0078L16.4688 1.08594C17.1719 0.34375 18.3828 0.34375 19.0859 1.08594L20.4141 2.375ZM14.5547 7.84375L18.6562 3.70312L17.7969 2.84375L13.6562 6.94531L14.5547 7.84375ZM20.2578 15.2656C20.3359 15.3438 20.4141 15.4219 20.4141 15.5391C20.4141 15.6172 20.3359 15.6953 20.2578 15.7344L18.3438 16.5547L17.5234 18.5078C17.4844 18.5859 17.3672 18.625 17.2891 18.625C17.2109 18.625 17.0938 18.5859 17.0547 18.5078L16.2344 16.5547L14.3203 15.7344C14.2422 15.6953 14.1641 15.6172 14.1641 15.5C14.1641 15.4219 14.2422 15.3438 14.3203 15.3047L16.2344 14.4844L17.0547 12.5312C17.0938 12.4531 17.2109 12.375 17.2891 12.375C17.3672 12.375 17.4844 12.4531 17.5234 12.5312L18.3438 14.4844L20.2578 15.2656Z",fill:"currentColor"}))},e.Copy=function(e){return m().createElement("svg",{viewBox:"0 0 20 21",xmlns:"http://www.w3.org/2000/svg",...e},m().createElement("path",{d:"M15 4.25C15 4.95312 15.5469 5.5 16.25 5.5H20V13.625C20 14.6797 19.1406 15.5 18.125 15.5H10.625C9.57031 15.5 8.75 14.6797 8.75 13.625V2.375C8.75 1.35938 9.57031 0.5 10.625 0.5H15V4.25ZM16.25 0.5L20 4.25H16.25V0.5ZM7.5 14.25C7.5 15.6562 8.59375 16.75 10 16.75H11.25V18.625C11.25 19.6797 10.3906 20.5 9.375 20.5H1.875C0.820312 20.5 0 19.6797 0 18.625V7.375C0 6.35938 0.820312 5.5 1.875 5.5H7.5V14.25Z",fill:"currentColor"}))},e.User=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...e},m().createElement("path",{fill:"currentColor",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"}))},e.Send=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"}))},e.Stop=function(e){return m().createElement("svg",{width:"20",height:"20",viewBox:"0 0 22 23",xmlns:"http://www.w3.org/2000/svg",...e},m().createElement("path",{d:"M11 0.75C17.0586 0.75 22 5.69141 22 11.75C22 17.8516 17.0586 22.75 11 22.75C4.89844 22.75 0 17.8516 0 11.75C0 5.69141 4.89844 0.75 11 0.75ZM15.125 14.8438V8.65625C15.125 8.09766 14.6523 7.625 14.0938 7.625H7.90625C7.30469 7.625 6.875 8.09766 6.875 8.65625V14.8438C6.875 15.4453 7.30469 15.875 7.90625 15.875H14.0938C14.6523 15.875 15.125 15.4453 15.125 14.8438Z",fill:"currentColor"}))},e.RotateLeft=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M126.9 142.9L184 200l-24 24H0V64L24 40 81.6 97.6l0 0c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0l45.3-45.3c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0l0 0z"}))},e.RotateRight=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"}))},e.Play=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"}))},e.Error=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm24-384v24V264v24H232V264 152 128h48zM232 368V320h48v48H232z"}))},e.ThumbsUp=function(e){return m().createElement("svg",{"data-testid":"thumbs-up",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"}))},e.ThumbsDown=function(e){return m().createElement("svg",{"data-testid":"thumbs-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z",transform:"rotate(180, 256, 256)"}))},e.Change=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",...e},m().createElement("path",{fill:"currentColor",d:"M150.6 73.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L96 173.3V320c0 53 43 96 96 96H304c17.7 0 32-14.3 32-32s-14.3-32-32-32H192c-17.7 0-32-14.3-32-32V173.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96zM336 96c-17.7 0-32 14.3-32 32s14.3 32 32 32H448c17.7 0 32 14.3 32 32V338.7l-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L544 338.7V192c0-53-43-96-96-96H336z"}))},e.ArrowRight=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...e},m().createElement("path",{fill:"currentColor",d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"}))},e.Bars=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...e},m().createElement("path",{fill:"currentColor",d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"}))},e.Plus=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...e},m().createElement("path",{fill:"currentColor",d:"M256 80V48H192V80 224H48 16v64H48 192V432v32h64V432 288H400h32V224H400 256V80z"}))},e.Frame=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...e},m().createElement("path",{fill:"currentColor",d:"M448 128c0-17.7-14.3-32-32-32l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32L128 96l0-32c0-17.7-14.3-32-32-32S64 46.3 64 64l0 32L32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l32 0 0 192-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 192 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-192 32 0c17.7 0 32-14.3 32-32zM128 352l0-192 192 0 0 192-192 0z"}))},e.Code=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",...e},m().createElement("path",{fill:"currentColor",d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"}))},e.ChevronRight=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",...e},m().createElement("path",{fill:"currentColor",d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"}))},e.ChevronLeft=function(e){return m().createElement("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m().createElement("path",{d:"M7.82582 11.9242L2.9016 6.99996L7.82582 2.0757L6.5 0.75L0.25 6.99996L6.5 13.25L7.82582 11.9242Z",fill:"currentColor"}))},e.Message=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16V352c0 8.8 7.2 16 16 16h96zm48 124l-.2 .2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3V474.7v-6.4V468v-4V416H112 64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H448c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H309.3L208 492z"}))},e.SolidMessage=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"}))},e.Close=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",...e},m().createElement("path",{fill:"currentColor",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},e.Clip=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"14",viewBox:"0 0 10 14",...e},m().createElement("path",{d:"M9.6875 3.875V9.15625C9.6875 11.7461 7.45312 13.8281 4.78711 13.5996C2.47656 13.3965 0.75 11.3398 0.75 9.00391V6.10938C0.75 5.75391 1.00391 5.52539 1.33398 5.52539C1.63867 5.52539 1.94336 5.7793 1.94336 6.10938V9.0293C1.94336 10.7051 3.28906 12.2793 4.96484 12.3809C6.89453 12.5332 8.46875 11.0352 8.46875 9.15625V4.00195C8.46875 2.93555 7.68164 1.9707 6.61523 1.86914C5.39648 1.76758 4.40625 2.70703 4.40625 3.875V9.15625C4.40625 9.63867 4.83789 10.0195 5.3457 9.94336C5.75195 9.89258 6.03125 9.51172 6.03125 9.10547V4.48438C6.03125 4.12891 6.28516 3.875 6.61523 3.875C6.91992 3.875 7.25 4.1543 7.25 4.48438V9.0293C7.25 10.1211 6.46289 11.0859 5.39648 11.1621C4.17773 11.2891 3.1875 10.3242 3.1875 9.15625L3.16211 4.02734C3.16211 2.32617 4.50781 0.751953 6.18359 0.650391C8.11328 0.523438 9.6875 2.02148 9.6875 3.875Z",fill:"currentColor"}))},e.Warning=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},m().createElement("path",{fill:"currentColor",d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"}))},e.Trash=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512",...e},m().createElement("path",{fill:"currentColor",d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"}))},e.Book=function(e){return m().createElement("svg",{height:"1em",viewBox:"0 0 14 16",xmlns:"http://www.w3.org/2000/svg",...e},m().createElement("path",{d:"M14 11.25C14 11.5938 13.7812 11.875 13.5 11.9688V14.0625C13.7812 14.1562 14 14.4375 14 14.75V15.25C14 15.6875 13.6562 16 13.25 16H3C1.3125 16 0 14.6875 0 13V3C0 1.34375 1.3125 0 3 0H13.25C13.6562 0 14 0.34375 14 0.75V11.25ZM8.15625 6.1875L6.59375 6.8125C6.53125 6.84375 6.5 6.90625 6.5 7C6.5 7.0625 6.53125 7.15625 6.59375 7.1875L8.15625 7.8125L8.8125 9.375C8.84375 9.4375 8.90625 9.5 9 9.5C8.96875 9.5 9 9.5 9 9.5C9.0625 9.5 9.125 9.4375 9.15625 9.375L9.8125 7.8125L11.375 7.1875C11.4375 7.15625 11.5 7.0625 11.5 7C11.5 6.9375 11.4375 6.875 11.375 6.84375L9.8125 6.1875L9.15625 4.625C9.125 4.5625 9.0625 4.5 8.96875 4.5C8.90625 4.5 8.84375 4.5625 8.8125 4.625L8.15625 6.15625V6.1875ZM4.0625 3.40625C4 3.40625 4 3.46875 4 3.5C4 3.5625 4 3.59375 4.0625 3.625L4.96875 4L5.375 4.9375C5.40625 4.96875 5.375 5 5.46875 5C5.53125 5 5.5625 4.96875 5.59375 4.9375L5.96875 4L6.90625 3.625C6.96875 3.59375 7 3.5625 7 3.5C7 3.46875 6.96875 3.4375 6.90625 3.40625L5.96875 3L5.5625 2.09375C5.5625 2.03125 5.46875 2 5.46875 2C5.4375 2 5.40625 2.03125 5.34375 2.09375L4.96875 3L4.0625 3.40625ZM12 14V12H3C2.4375 12 2 12.4688 2 13C2 13.5625 2.4375 14 3 14H12Z",fill:"currentColor"}))},e.DataCatalog=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"31",viewBox:"0 0 30 31",...e},m().createElement("path",{d:"M30 4.8125C30 4.82031 30 4.82812 30 4.83594C29.9609 7.48438 23.2578 9.625 15 9.625C6.74219 9.625 0.0390625 7.48438 0 4.83594C0 4.82812 0 4.82031 0 4.8125C0 2.15625 6.71875 0 15 0C23.2812 0 30 2.15625 30 4.8125ZM30 8.4375C30 8.4375 30 8.45312 30 8.46094C29.9609 11.1094 23.2578 13.25 15 13.25C6.74219 13.25 0.0390625 11.1094 0 8.46094V8.4375L0.078125 15.2187C0.078125 15.2187 0.078125 15.25 0.078125 15.2578C0.117188 17.8906 6.78125 20.0234 15 20.0234C23.2188 20.0234 29.8828 17.8906 29.9219 15.2578C29.9219 15.25 29.9219 15.2187 29.9219 15.2187L30 8.4375ZM30 18.4375C30 18.4375 30 18.4531 30 18.4609C29.9609 21.1094 23.2578 23.25 15 23.25C6.74219 23.25 0.0390625 21.1094 0 18.4609V18.4375L0.078125 25.2188C0.078125 25.2188 0.078125 25.25 0.078125 25.2578C0.117188 27.8906 6.78125 30.0234 15 30.0234C23.2188 30.0234 29.8828 27.8906 29.9219 25.2578C29.9219 25.25 29.9219 25.2188 29.9219 25.2188L30 18.4375Z",fill:"currentColor"}))},e.Share=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...e},m().createElement("g",{clipPath:"url(#clip0_289_5006)"},m().createElement("path",{d:"M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12C9 11.76 8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5C21 3.34 19.66 2 18 2C16.34 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12C3 13.66 4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.35C15.11 18.56 15.08 18.78 15.08 19C15.08 20.61 16.39 21.92 18 21.92C19.61 21.92 20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08Z",fill:"currentColor"})),m().createElement("defs",null,m().createElement("clipPath",{id:"clip0_289_5006"},m().createElement("rect",{width:"24",height:"24",fill:"white"}))))},e.Panel=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",...e},m().createElement("g",{clipPath:"url(#clip0_345_19040)"},m().createElement("path",{d:"M17.9113 0.428824C17.8716 0.1857 17.6841 0.0656821 17.3871 0.0427376C16.5951 -0.018595 15.8057 -0.0247723 15.0168 0.0970103C14.1202 0.23556 13.2544 0.476919 12.4179 0.823735C11.2931 1.28969 10.265 1.91801 9.31549 2.67783C9.26077 2.72151 9.17297 2.76034 9.10899 2.75019C8.68937 2.68313 8.27328 2.5962 7.8541 2.52648C6.92352 2.37161 6.0481 2.53134 5.27328 3.07362C4.92955 3.3141 4.6348 3.62826 4.33211 3.92345C3.58288 4.65415 2.22253 6.00435 2.09678 6.1279L1.17723 7.17364C1.00603 7.37573 1.10266 7.66651 1.40756 7.72078L2.94661 7.89507C3.66363 7.96125 4.38109 8.02215 5.09855 8.08745C5.14576 8.09186 5.19165 8.11348 5.24062 8.12804C5.09281 8.51987 4.95205 8.89183 4.81218 9.26468C4.73187 9.47868 4.7857 9.65783 4.9472 9.81667C5.25033 10.1145 5.54817 10.4172 5.8491 10.7172C6.6398 11.5071 7.43006 12.2969 8.22253 13.0849C8.3527 13.2147 8.51155 13.2584 8.69025 13.197C8.79526 13.1613 8.89984 13.1229 9.00397 13.0836C9.29475 12.9733 9.58509 12.8621 9.89043 12.7456C9.90057 12.8184 9.90984 12.8687 9.91469 12.9195C10.025 14.0861 10.1353 15.2532 10.2447 16.4199C10.2633 16.6166 10.3401 16.7724 10.5333 16.8492C10.7345 16.929 10.9084 16.8726 11.0544 16.727L14.8628 12.8502C14.9647 12.683 15.0741 12.5308 15.1558 12.3648C15.4695 11.7272 15.6041 11.0526 15.5048 10.3453C15.4386 9.87271 15.338 9.40544 15.2656 8.93375C15.2528 8.84991 15.2806 8.74049 15.3292 8.67033C15.6045 8.27277 15.909 7.89507 16.1715 7.49001C16.8409 6.45795 17.3421 5.34558 17.658 4.15599C17.8667 3.37014 17.9974 2.56929 17.9965 1.75211L18.0004 1.34925C17.9726 1.04215 17.9612 0.731957 17.9118 0.428383L17.9113 0.428824ZM16.2567 5.3769C15.5326 7.04171 14.4617 8.44883 13.1 9.64327C12.484 10.1833 11.82 10.6542 11.1197 11.076C11.0527 11.1161 10.9834 11.1523 10.8669 11.2167C10.5761 10.9114 10.2853 10.595 9.98265 10.2901C8.97044 9.27174 7.95646 8.25512 6.93631 7.24468C6.82159 7.13084 6.81056 7.05097 6.89087 6.91595C7.77511 5.43382 8.88484 4.15378 10.2655 3.11201C11.0632 2.5106 11.9268 2.02876 12.8445 1.63783C13.0329 1.55752 13.1499 1.57385 13.3003 1.72696C14.2199 2.66283 15.1496 3.58855 16.0819 4.51163C16.4649 4.8911 16.4707 4.8836 16.2562 5.37646L16.2567 5.3769Z",fill:"currentColor"}),m().createElement("path",{d:"M11.9237 4.4438C11.016 4.44159 10.2959 5.16214 10.2959 6.07286C10.2959 6.99594 10.9962 7.70104 11.9135 7.70193C12.8269 7.70325 13.5452 6.99329 13.5523 6.08213C13.5589 5.18773 12.822 4.44601 11.9237 4.44336V4.4438Z",fill:"currentColor"}),m().createElement("path",{d:"M0.733782 17.2304C0.573611 17.2304 0.413882 17.1655 0.297394 17.038C0.0776562 16.7971 0.0944234 16.4234 0.335782 16.2036L4.91013 12.0299C5.15105 11.8102 5.52478 11.8274 5.74452 12.0683C5.96426 12.3092 5.94749 12.683 5.70613 12.9027L1.13178 17.0759C1.01838 17.1792 0.875862 17.2304 0.733782 17.2304Z",fill:"currentColor"}),m().createElement("path",{d:"M4.13178 17.3977C3.97161 17.3977 3.81188 17.3328 3.6954 17.2053C3.47566 16.9644 3.49243 16.5906 3.73379 16.3709L5.55699 14.7074C5.79791 14.4877 6.17164 14.5049 6.39138 14.7458C6.61112 14.9867 6.59435 15.3604 6.35299 15.5802L4.52978 17.2437C4.41639 17.3469 4.27386 17.3981 4.13178 17.3981V17.3977Z",fill:"currentColor"}),m().createElement("path",{d:"M0.590823 14.3828C0.430652 14.3828 0.270923 14.3179 0.154435 14.1904C-0.0653034 13.9495 -0.0485362 13.5757 0.192823 13.356L2.01603 11.6925C2.25695 11.4728 2.63024 11.49 2.85042 11.7309C3.07016 11.9718 3.05339 12.3455 2.81203 12.5653L0.988822 14.2288C0.875423 14.332 0.732902 14.3832 0.590823 14.3832V14.3828Z",fill:"currentColor"})),m().createElement("defs",null,m().createElement("clipPath",{id:"clip0_345_19040"},m().createElement("rect",{width:"18",height:"17.3977",fill:"white"}))))},e.Question=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",...e},m().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.75 10C18.75 14.832 14.832 18.75 10 18.75C5.16797 18.75 1.25 14.832 1.25 10C1.25 5.16797 5.16797 1.25 10 1.25C14.832 1.25 18.75 5.16797 18.75 10ZM17.5 10C17.5 5.85938 14.1406 2.5 10 2.5C5.85938 2.5 2.5 5.85938 2.5 10C2.5 14.1406 5.85938 17.5 10 17.5C14.1406 17.5 17.5 14.1406 17.5 10ZM13.75 7.5C13.75 9.26562 12.8359 10.0742 12.1641 10.6641C11.5742 11.1836 11.25 11.4727 11.25 12.5H8.75C8.75 10.3438 9.80859 9.40625 10.5117 8.78906C11.0508 8.31641 11.25 8.13672 11.25 7.5C11.25 6.8125 10.6875 6.25 10 6.25C9.3125 6.25 8.75 6.8125 8.75 7.5H6.25C6.25 5.42969 7.92969 3.75 10 3.75C12.0703 3.75 13.75 5.42969 13.75 7.5ZM11.25 16.25V13.75H8.75V16.25H11.25Z",fill:"currentColor"}))},e.Bulb=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"14",viewBox:"0 0 10 14",...e},m().createElement("path",{d:"M4.625 0.625C7.08789 0.650391 9.09375 2.63086 9.09375 5.09375C9.09375 6.23633 8.66211 7.25195 7.97656 8.01367C7.54492 8.49609 6.91016 9.51172 6.65625 10.3496C6.65625 10.3496 6.65625 10.3496 6.65625 10.375H2.56836C2.56836 10.3496 2.56836 10.3496 2.56836 10.3496C2.31445 9.51172 1.67969 8.49609 1.24805 8.01367C0.5625 7.22656 0.15625 6.21094 0.15625 5.09375C0.15625 2.73242 2.03516 0.650391 4.625 0.625ZM7.0625 7.25195C7.57031 6.64258 7.875 5.88086 7.875 5.09375C7.875 3.31641 6.40234 1.84375 4.59961 1.84375C2.59375 1.86914 1.375 3.51953 1.375 5.09375C1.375 5.88086 1.6543 6.64258 2.16211 7.25195C2.56836 7.68359 3.05078 8.41992 3.40625 9.15625H5.81836C6.17383 8.41992 6.65625 7.68359 7.0625 7.25195ZM2.59375 12.1777V11.1875H6.65625L6.63086 12.1777C6.63086 12.3047 6.58008 12.5078 6.50391 12.6348L6.07227 13.2695C5.94531 13.4727 5.64062 13.625 5.38672 13.625H3.83789C3.58398 13.625 3.2793 13.4727 3.15234 13.2695L2.7207 12.6348C2.64453 12.4824 2.59375 12.3301 2.59375 12.1777ZM4.59961 6.71875C5.05664 6.71875 5.4375 7.09961 5.4375 7.53125C5.4375 7.98828 5.05664 8.34375 4.625 8.34375C4.16797 8.34375 3.8125 7.98828 3.8125 7.53125C3.8125 7.09961 4.16797 6.71875 4.59961 6.71875ZM4.625 5.90625C4.26953 5.90625 4.01562 5.65234 4.01562 5.29688V3.26562C4.01562 2.93555 4.26953 2.68164 4.59961 2.68164C4.95508 2.68164 5.23438 2.93555 5.23438 3.26562V5.29688C5.23438 5.65234 4.95508 5.90625 4.625 5.90625Z",fill:"currentColor"}))},e.UserPrompt=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"25",viewBox:"0 0 28 25",...e},m().createElement("path",{d:"M14 0.25C21.7109 0.25 27.9453 5.33594 27.9453 11.625C27.9453 17.8594 21.7656 23 14 23C11.9219 23 9.95312 22.5625 8.14844 21.9062C6.72656 23 4.10156 24.75 0.4375 24.75C0.273438 24.75 0.109375 24.6406 0.0546875 24.4766C0 24.3125 0 24.0938 0.164062 23.9844C0.164062 23.9844 2.46094 21.5234 3.11719 18.7344C1.20312 16.8203 0 14.3047 0 11.625C0 5.33594 6.23438 0.25 14 0.25ZM13.6172 17.75C14.4375 17.75 15.0391 17.1484 15.0391 16.3281C15.0391 15.5625 14.3828 14.9062 13.6172 14.9062C12.8516 14.9062 12.25 15.5625 12.25 16.3281C12.25 17.1484 12.8516 17.75 13.6172 17.75ZM16.7891 11.4062C17.7734 10.8047 18.375 9.76562 18.375 8.67188C18.375 6.92188 16.9531 5.5 15.1484 5.5H12.7969C10.9922 5.5 9.625 6.92188 9.625 8.67188C9.625 9.27344 10.1172 9.76562 10.6641 9.76562C11.2656 9.76562 11.7578 9.27344 11.7578 8.67188C11.7578 8.125 12.25 7.6875 12.7969 7.6875H15.1484C15.6953 7.6875 16.1875 8.125 16.1875 8.67188C16.1875 9.05469 15.9688 9.38281 15.6406 9.49219L13.0703 11.0234C12.6875 11.2422 12.5234 11.625 12.5234 12.0078V12.7734C12.5234 13.3203 13.0156 13.8672 13.6172 13.8672C14.2188 13.8672 14.7109 13.3203 14.7109 12.7734V12.6641L16.7891 11.4062Z",fill:"currentColor"}))},e.NewChat=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"20",viewBox:"0 0 23 20",...e},m().createElement("path",{d:"M12 0.125C18.0586 0.125 22.957 4.16406 22.957 9.0625C22.957 14.0039 18.0586 18 12 18C10.3242 18 8.77734 17.6992 7.35938 17.1836C6.28516 18.043 4.17969 19.375 1.34375 19.375C1.17188 19.375 1.04297 19.332 1 19.2031C0.957031 19.0742 0.957031 18.9023 1.08594 18.8164C1.08594 18.7734 2.89062 16.8828 3.40625 14.6914C1.90234 13.1445 1 11.2109 1 9.0625C1 4.16406 5.89844 0.125 12 0.125ZM15.4375 10.0938C15.9961 10.0938 16.4688 9.66406 16.4688 9.0625C16.4688 8.50391 15.9961 8.03125 15.3945 8.03125H12.9883V5.625C12.9883 5.06641 12.5586 4.59375 12 4.59375C11.3984 4.59375 10.9688 5.06641 10.9258 5.625V8.07422H8.51953C7.96094 8.07422 7.53125 8.50391 7.53125 9.0625C7.53125 9.66406 7.96094 10.0938 8.51953 10.0938H10.9688V12.543C10.9688 13.1016 11.3984 13.5312 12 13.5312C12.5586 13.5312 12.9883 13.1016 13.0312 12.5V10.0938H15.4375Z",fill:"currentColor"}))},e.History=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"19",viewBox:"0 0 21 19",...e},m().createElement("path",{d:"M19.1797 7.625C20.3516 13.6406 15.7812 18.875 10 18.875C8.4375 18.875 6.99219 18.5234 5.70312 17.8594C4.96094 17.4688 4.80469 16.4531 5.39062 15.8672C5.78125 15.4766 6.36719 15.3984 6.875 15.6328C7.8125 16.1406 8.86719 16.375 10 16.375C14.2578 16.375 17.6562 12.4688 16.6797 8.01562C16.1328 5.28125 13.6328 2.625 10 2.625C9.49219 2.625 7.1875 2.58594 5.11719 4.65625L6.60156 6.14062C7.14844 6.6875 6.75781 7.625 5.97656 7.625H1.21094C0.898438 7.625 0.625 7.35156 0.625 7V2.27344C0.625 1.49219 1.5625 1.10156 2.10938 1.64844L3.35938 2.89844C4.88281 1.375 7.07031 0.125 10 0.125C16.8359 0.125 18.9062 6.21875 19.1797 7.625ZM10 4.5C10.5078 4.5 10.9375 4.92969 10.9375 5.4375V9.65625L13.0078 11.2578C13.4375 11.5703 13.5156 12.1562 13.2031 12.5859C13.0078 12.8203 12.7344 12.9375 12.4609 12.9375C12.2656 12.9375 12.0703 12.8984 11.9141 12.7812L9.41406 10.9062C9.17969 10.7109 9.0625 10.4375 9.0625 10.125V5.4375C9.0625 4.92969 9.45312 4.5 10 4.5Z",fill:"currentColor"}))},e.Search=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",...e},m().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7063 10H11.4156L15 13.5844L13.5844 15L10 11.4156V10.7063L9.16562 9.87187C8.30312 10.5781 7.2 11 6 11C3.2375 11 1 8.7625 1 6C1 3.2375 3.2375 1 6 1C8.7625 1 11 3.2375 11 6C11 7.2 10.5781 8.30312 9.87187 9.16562L10.7063 10ZM6 2C3.79063 2 2 3.79063 2 6C2 8.20937 3.79063 10 6 10C8.20937 10 10 8.20937 10 6C10 3.79063 8.20937 2 6 2Z",fill:"currentColor"}))},e.ExternalLink=function(e){return m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",...e},m().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 11.2V16H0V0H4.8V1.6H1.6V14.4H14.4V11.2H16ZM16 0H8L10.87 2.865L4.8 8.935L7.065 11.2L13.13 5.13L16 8V0Z",fill:"currentColor"}))}}(d||(d={}));const g=u.createContext({}),f="anaconda-assistant";function b(e){const{parentClassName:t,replaceChildren:n}=u.useContext(g),a=e.as||"div",s=e.mainContainer||!1,o=`${t&&!s?`${t}-`:""}${e.asChildName||a}`,r=`${f}-${o}`,i=n?.(r);if(i)return i;const{mainContainer:c,asChildName:l,as:d,...m}=e,h=e.className?` ${e.className}`:"";return u.createElement(g.Provider,{value:{parentClassName:o,replaceChildren:n}},u.createElement(a,{...m,className:r+h}))}function C(e){return u.createElement(b,{...e,as:"button"})}function x(e){return u.createElement(b,{...e,as:"div"})}var y=n(444);function w(e){e&&clearTimeout(e)}function v(e){const{delay:t,show:n,children:a}=e,[s,o]=m().useState(!0),r=m().useRef(null);return(0,u.useEffect)((()=>(w(r.current),n?o(!1):r.current=setTimeout((()=>{o(!0)}),t),()=>{w(r.current)})),[n,t]),m().createElement(m().Fragment,null,s?null:a)}function E(e){return u.createElement(b,{...e,as:"style"})}const k=e=>{const{width:t,headerTitle:n,warningMessage:a,bodyTitle:s,body:o,dialogClosed:r}=e;let{show:i}=e;const c=(0,y.q_)({right:10,bottom:i?70:-275,width:t?t-80:360});return m().createElement(v,{delay:500,show:i},m().createElement(x,{asChildName:"popup",style:i?{zIndex:2}:{}},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-popup {\n  position: fixed;\n  width: 480px;\n  right: 32px;\n  bottom: 80px;\n}\n\n.as-animated-popup {\n  position: absolute;\n  border: 2px solid rgba(219, 105, 112, 0.4);\n  box-shadow: 0 0 16px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  background: var(--as-main-bg-color-primary, #fff);\n  z-index: 1;\n}\n\n.anaconda-assistant-popup-container {\n  padding: 0 16px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.anaconda-assistant-popup-container-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 13px;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  color: var(--as-main-font-color-black, #212121);\n}\n\n.anaconda-assistant-popup-container-header-logo {\n  display: flex;\n  align-items: center;\n  color: var(--as-main-font-color, #2c303a);\n  font-style: normal;\n  font-weight: 700;\n  font-size: 14px;\n}\n\n.anaconda-assistant-popup-container-header-logo-container {\n  background: #4fab4f;\n  border-radius: 4px;\n  margin-right: 10px;\n  padding: 8px 4px 5px 4px;\n}\n\n.anaconda-assistant-popup-container-header-logo-container-icon {\n  width: 20px;\n  height: 16px;\n  color: white;\n}\n\n.anaconda-assistant-popup-container-header-close-icon {\n  width: 14px;\n  color: rgb(33, 33, 33, 0.5);\n  cursor: pointer;\n}\n\n.anaconda-assistant-popup-container-header-close-icon:hover {\n  color: rgb(33, 33, 33, 0.8);\n}\n\n.anaconda-assistant-popup-container-warning {\n  margin-bottom: 20px;\n  color: #757575;\n  background: #fcfccc;\n  padding: 10px;\n  font-size: 11px;\n  border-radius: 4px;\n  border: 1px solid #ebebbe;\n  display: flex;\n}\n\n.anaconda-assistant-popup-container-warning-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 12px 0 3px;\n}\n\n.anaconda-assistant-popup-container-warning-container-icon {\n  width: 23px;\n  color: #ffba0a;\n}\n\n.anaconda-assistant-popup-container-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  padding-bottom: 15px;\n}\n\n.anaconda-assistant-popup-container-buttons-wrapper {\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  font-weight: 590;\n  letter-spacing: 0.02em;\n}\n\n.anaconda-assistant-popup-container-buttons-wrapper-container {\n  width: 26px;\n  height: 26px;\n  background: rgba(0, 178, 255, 0.1);\n  border-radius: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 10px;\n}\n\n.anaconda-assistant-popup-container-buttons-wrapper-container-icon {\n  width: 13px;\n  color: #00b2ff;\n}\n\n.anaconda-assistant-popup-container-buttons-button-icon {\n  color: var(--as-main-font-color-secondary, rgba(33, 33, 33, 0.5));\n  width: 8px;\n  height: 12px;\n}\n\n.anaconda-assistant-popup-container-buttons-button:hover {\n  background: var(--as-background-hover, #eaeaea);\n  color: var(--as-main-font-color-black, rgba(0, 0, 0, 0.87));\n}\n\n.anaconda-assistant-popup-container-buttons-button  {\n  background: var(--as-main-bg-color-primary, white);\n  border: 1px solid var(--as-border-color-light, #e6e6e6);\n}\n"),m().createElement(y.q.div,{className:"as-animated-popup",style:c},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"header"},m().createElement(x,{asChildName:"logo"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"icon"},m().createElement(d.ChatBot,null))),m().createElement(x,{asChildName:"title"},n??"Anaconda Assistant")),m().createElement(x,{asChildName:"close-icon",onClick:function(){i=!1,r()},"aria-label":"Close dialog"},m().createElement(d.Close,null))),m().createElement(x,{asChildName:"warning"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"icon"},m().createElement(d.Warning,null))),m().createElement(x,{asChildName:"message"},a)),m().createElement(x,{asChildName:"buttons"},m().createElement(x,{asChildName:"wrapper"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"icon"},m().createElement(d.Code,null))),m().createElement(x,{asChildName:"title"},s)),o)))))};function S(e){return u.createElement(b,{...e,as:"option"})}function N(e){return u.createElement(b,{...e,as:"select"})}const _=e=>{const{className:t,defaultSelection:n,options:a,selectionChanged:s}=e,[o,r]=(0,u.useState)(n??a[0]),[i,c]=(0,u.useState)(!1),l=(0,u.useRef)(null);return(0,u.useEffect)((()=>{function e(e){l.current&&!l.current.contains(e.target)&&c(!1)}return i?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i]),m().createElement("div",{ref:l},m().createElement(x,{asChildName:"dropdown",className:`${i?"is-open":""} ${t}`,role:"button",onClick:()=>{c(!i)}},m().createElement(E,{asChildName:"style"},"\n[class^='anaconda-assistant-'][class$='-dropdown'],\n[class^='anaconda-assistant-'][class*='-dropdown is-open '],\n[class^='anaconda-assistant-'][class$='-dropdown is-open'] {\n  position: relative;\n}\n\n[class^='anaconda-assistant-'][class$='-dropdown-selection'] {\n  display: flex;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  align-items: center;\n  border-radius: 4px;\n  border: 1px solid #dfe3e7;\n  padding: 7px 30px 7px 12px;\n  cursor: pointer;\n  min-width: 200px;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  outline: none;\n}\n\n[class^='anaconda-assistant-'][class$='-dropdown-selection'] [class^='anaconda-assistant-'][class$='-dropdown-selection-arrow'] {\n  border-color: #999 transparent transparent;\n  border-style: solid;\n  border-width: 5px 5px 0;\n  content: ' ';\n  display: block;\n  height: 0;\n  margin-top: -ceil(2.5);\n  position: absolute;\n  right: 10px;\n  top: 14px;\n  width: 0;\n}\n\n[class^='anaconda-assistant-'][class*='-dropdown is-open '] [class^='anaconda-assistant-'][class$='-dropdown-selection'] [class^='anaconda-assistant-'][class$='-dropdown-selection-arrow'],\n[class^='anaconda-assistant-'][class$='-dropdown is-open'] [class^='anaconda-assistant-'][class$='-dropdown-selection'] [class^='anaconda-assistant-'][class$='-dropdown-selection-arrow'] {\n  border-color: transparent transparent #999;\n  border-width: 0 5px 5px;\n}\n\n[class^='anaconda-assistant-'][class$='-dropdown-menu'],\n[class^='anaconda-assistant-'][class$='-dropdown-menu is-open'] {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  margin-top: -1px;\n  overflow-y: auto;\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  z-index: 1000;\n  -webkit-overflow-scrolling: touch;\n  border-radius: 4px;\n  border: 1px solid #dfe3e7;\n  background: #fff;\n  box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.25);\n  min-width: 200px;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 24px;\n  color: #2c303a;\n  display: none;\n}\n\n[class^='anaconda-assistant-'][class$='-dropdown-menu is-open'] {\n  display: block;\n}\n\n[class^='anaconda-assistant-'][class*='-dropdown-menu-option'] {\n  box-sizing: border-box;\n  cursor: pointer;\n  display: block;\n  padding: 8px 10px;\n  background: var(--as-main-bg-color-secondary, #fff);\n  color: var(--as-main-font-color, #2c303a);\n}\n\n[class^='anaconda-assistant-'][class*='-dropdown-menu-option']:last-child {\n  border-bottom-right-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n\n[class^='anaconda-assistant-'][class*='-dropdown-menu-option']:hover {\n  background-color: var(--as-main-bg-color-third, #ced2d9);\n}\n\n[class^='anaconda-assistant-'][class*='-dropdown-menu-option is-selected'] {\n  background-color: #0cca4a;\n}\n"),m().createElement(x,{asChildName:"selection"},m().createElement(x,{asChildName:"label"},o.label),m().createElement(x,{asChildName:"arrow"},m().createElement("span",null))),m().createElement(x,{asChildName:"menu",className:i?"is-open":""},a.map((e=>m().createElement(x,{key:e.value,asChildName:"option "+(o.value===e.value?"is-selected":""),role:"option",onClick:()=>(e=>{r(e),s(e)})(e)},e.label))))))};var T=n(464),L=n(7414),A=n(3633),D=n(3939);const M={},R={};var I=n(7014),P=n(2634),F=n(6635),V=n.n(F);function O(e,t){return{chatStarters:t(0===e.length),selectedChatStarter:null}}function $(e,t){const n=J(e);if(n)if(n.previousChatKey=n.activeChatKey,null===t)n.activeChatKey=null;else if(t&&null!=n.chats[t]){n.activeChatKey=t;const e=n.chats[t];e.inProgress&&(e.inProgress=null)}}function B(e){const t=J(e);return t?(0,F.orderBy)((0,F.values)(t.chats).map((e=>({name:e.name,key:e.key,lastUpdated:e.lastUpdated}))),[e=>e.lastUpdated.getTime()],["desc"]):[]}function H(e){const t=J(e),n=G(e),a=W(e),s=t?.homeScreen.selectedChatStarter,o=s&&"data-cleaning-suggestions"!==s.name&&"dataframe-suggestions"!==s.name;return Boolean(n&&(a||o))}function z(e){const t=J(e),n=W(e),{path:a,settings:s}=e;if(!t?.activeChatKey||!n||!a)throw new Error("No active chat");const{activeChatKey:o}=t;return{notebook:t,chatState:n,activeChatKey:o,path:a,settings:s}}function U(e,t){return`${e.sessionId}-${t}`}function q(e,t){const{chatState:n}=z(e);en(n.inProgress)&&(n.inProgress.content=t.content,t.tokens&&(n.tokens=t.tokens),t.maxTokens&&(n.maxTokens=t.maxTokens))}function Z(e,t){const n=J(e);n&&(n.suggestionState={...n.suggestionState,loading:t})}function j(e,t){const{session:n,messages:a}=e,s=U(n,a.length+1),o=U(n,a.length+2);e.messages.push({role:"user",content:t,messageId:s}),e.inProgress={type:"active",content:"",message_id:o}}function W(e){const t=e.notebooks.find((t=>t.path===e.path));return t?.activeChatKey&&t.chats[t.activeChatKey]||null}function K(e){const t=W(e);return"active"===t?.inProgress?.type?t.inProgress:null}function G(e){const t=e.notebooks.find((t=>t.path===e.path));return t?.previousChatKey&&t.chats[t.previousChatKey]||null}function J(e){return e.notebooks.find((t=>t.path===e.path))||null}function Y(e){if(!J(e))return"";const t=G(e);return t?X(t.context,t.messages[0].content):""}function X(e,t){const n=yt(e,t);switch(e.type){case"graph-dataframe":return`Graph ${n}`;case"describe-dataframe":return`Describe data in ${n}`;case"explain-code":return`Explain ${n}`;case"comment-code":return`Comment ${n}`;case"improve-code":return`Refactor ${n}`;case"debug-error":return`Debugging ${n}`;default:return t.startsWith(mt)?bt(t):`${t} (using ${n})`}}function Q(e,t){if(e){const t=e.notebooks;t.forEach((e=>{(0,F.values)(e.chats).forEach((e=>{e.lastUpdated=new Date(e.lastUpdated)}))})),e.menuOpen=!1;const n=J(e),a=W(e);n&&a&&a.inProgress&&(a.inProgress=null,n.activeChatKey=null,1===a.messages.length?delete n.chats[a.key]:a.messages.pop()),n&&(n.notebookState.error=null,n.notebookState.selectedText=null);const s=function(e){return(0,F.flatten)(e.notebooks.map((e=>(0,F.values)(e.chats).map((e=>e.lastUpdated)))))}(e);if(s.length>50){const e=s.sort(((e,t)=>t.getTime()-e.getTime()))[50];t.forEach((t=>{(0,F.entries)(t.chats).filter((([t,n])=>n.lastUpdated<=e)).map((([e,t])=>e)).forEach((e=>delete t.chats[e]))}))}let o=t.length;for(;o--;)0===Object.values(t[o].chats).length&&t[o].path!==e.path&&t.splice(o,1)}}var ee=n(3700),te=n(312),ne=n(929),ae=n(1563);const se=["https://jupyterassistant.anacondaconnect.com","https://assistant.anaconda.cloud","http://localhost:8000","https://127.0.0.1:4200"];var oe,re;!function(e){e.STREAM_RESPONSE_SUPPORTED_VERSIONS=["v3"],e.FETCH_SUGGESTIONS_SUPPORTED_VERSIONS=["v2"],e.SUBMIT_FEEDBACK_SUPPORTED_VERSIONS=["v2"],e.SUBMIT_CODE_EXECUTION_SUPPORTED_VERSIONS=["v2"],e.PRO_SUMMARIES_SUPPORTED_VERSIONS=["v1"],e.PRO_STREAM_RESPONSE_SUPPORTED_VERSIONS=["v1"]}(oe||(oe={})),function(e){e.CHAT_CONTEXT_TYPES=["graph-dataframe","describe-dataframe","explain-code","comment-code","improve-code","debug-error","default-python","suggestions-chat"]}(re||(re={}));const ie="ASSISTANT_API_ERROR";class ce extends Error{name=ie;request;response;constructor(e,t){super(e),this.request=t.request,this.response=t.response}toString(){let e=`failed to fetch ${this.request.url}`;return this.response&&(e=`(status: ${this.response.status})`),`[${this.name}] ${this.message} ${e}`}}const le="ASSISTANT_API_NETWORK_ERROR";class de extends ce{name=le}const ue="ASSISTANT_API_SERVER_ERROR";class me extends ce{name=ue}const he="ASSISTANT_API_INVALID_RESPONSE_ERROR";class pe extends ce{name=he}const ge="ASSISTANT_API_UNKNOWN_ERROR",fe="ASSISTANT_SDK_ERROR";class be extends Error{name=fe;constructor(e){super(e)}toString(){return`[${this.name}] ${this.message}`}}const Ce="ASSISTANT_SDK_INVALID_VERSION_ERROR";class xe extends be{name=Ce}function ye(e,t){if(!t.includes(e))throw new xe(`Invalid version: ${e}. Supported versions: ${t.join(", ")}`)}const we="ASSISTANT_SDK_INVALID_API_URL_ERROR";class ve extends be{name=we}const Ee="ASSISTANT_SDK_UNKNOWN_ERROR";class ke{_apiUrl;_getHeaders;constructor(e){this._apiUrl=e.apiUrl,this._getHeaders=e.getHeaders}async fetchSafely(e){const{path:t,body:n,method:a,abortController:s}=e,o=this._getHeaders(),r=new Request(`${this._apiUrl}${t}`,{method:a,headers:o,body:n,signal:s?.signal});try{const e=await fetch(r);if(e.status>299){const t=await e.text();if(function(e){return!!(e.includes("Too many requests")||e.includes("maximum context length")||e.includes("org_blacklisted"))}(t))throw new me(t,{request:r,response:e});throw new me("There was an issue connecting to the Assistant server. Please try again.",{request:r,response:e})}return{request:r,response:e}}catch(e){if(e.name===ue)throw e;throw new de("There was an issue connecting to the Assistant server. Please try again.",{request:r})}}}class Se{_accessToken=null;_accessTokenExpiresAt=null;constructor(e){this._accessToken=e.accessToken||null,this._accessTokenExpiresAt=e.expiresAt||null}setAccessToken(e){this._accessToken=e.accessToken,this._accessTokenExpiresAt=e.expiresAt||null}ensureValidAccessToken(){if(null===this._accessToken)throw new Error("No access token set");if(null===this._accessTokenExpiresAt)throw new Error("No access token expiration set");if(this._accessTokenExpiresAt<Date.now())throw new Error("Access token expired")}getAccessToken(){return this.ensureValidAccessToken(),{accessToken:this._accessToken,expiresAt:this._accessTokenExpiresAt}}}class Ne{_environmentType;constructor(e){this._environmentType=e}isLocalDev(){return"local-dev"===this._environmentType}isLocalNotebooks(){return"local-notebooks-prod"===this._environmentType||this.isLocalNotebooksDev()}isLocalNotebooksDev(){return"local-notebooks-dev"===this._environmentType}isCloudNotebooks(){return"cloud-notebooks-prod"===this._environmentType}isCloudNotebooksStaging(){return"cloud-notebooks-staging"===this._environmentType}isEnterpriseNotebooksDev(){return"enterprise-notebooks-dev"===this._environmentType}isEnterpriseNotebooks(){return"enterprise-notebooks-prod"===this._environmentType||this.isEnterpriseNotebooksDev()}isPyexcelDev(){return"pyexcel-dev"===this._environmentType}isPyexcel(){return"pyexcel-prod"===this._environmentType||this.isPyexcelDev()}getClientSource(){if(this.isLocalDev())return"anaconda-local-dev";if(this.isCloudNotebooksStaging())return"anaconda-cloud-notebooks-staging";if(this.isCloudNotebooks())return"anaconda-cloud-notebooks-prod";if(this.isLocalNotebooksDev())return"anaconda-local-notebooks-dev";if(this.isLocalNotebooks())return"anaconda-local-notebooks-prod";if(this.isEnterpriseNotebooksDev())return"anaconda-enterprise-notebooks-dev";if(this.isEnterpriseNotebooks())return"anaconda-enterprise-notebooks-prod";if(this.isPyexcelDev())return"anaconda-pyexcel-dev";if(this.isPyexcel())return"anaconda-pyexcel-prod";throw new Error("Unknown environment type")}}const _e="__TOKENS_",Te=/__TOKENS_([0-9]+)\/([0-9]+)__/ms;function Le(e){return e.includes(_e)}function Ae(e){const t=e.match(Te);return t&&t[1]&&!isNaN(+t[1])?parseInt(t[1]):0}function De(e){const t=e.match(Te);return t&&t[2]&&!isNaN(+t[2])?parseInt(t[2]):0}function Me(e){const t=e.indexOf(_e);return e.slice(0,-1===t?e.length:t)}function Re(e){return{user_id:e.userId,session_id:e.sessionId,iteration_id:0}}function Ie(e){return{type:e.type,variables:Pe(e.variables)}}function Pe(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n];t[n]=a.slice(-2e3)}return t}function Fe(e,t){return{skip_logging:!t,session:Re(e.session),chat_context:Ie(e.chatContext),response_message_id:e.responseMessageId,messages:e.messages.map((e=>({role:e.role,content:e.content,message_id:e.messageId})))}}const Ve="0.0.1";class Oe{sdkVersion=Ve;apiUrl;clientVersion;accessToken;environmentTypes;_http;_enableDataCollection;_transformHeaders=e=>e;constructor(e){const t=e.apiUrl||"https://assistant.anaconda.cloud",n=e.routePathPrefix||"";!function(e){const t=e;if(!t||-1===se.indexOf(t)&&!function(e){return e.startsWith("https://")&&e.endsWith(".dsp.anaconda.com")}(t))throw new ve(`Invalid API URL: ${e}`)}(t),this.apiUrl=t+n,this.clientVersion=e.clientVersion,this._enableDataCollection=e.enableDataCollection||!1,this.accessToken=new Se({accessToken:e.authorization?.accessToken||"",expiresAt:e.authorization?.expiresAt||0}),this.environmentTypes=new Ne(e.environmentType),this._http=new ke({apiUrl:this.apiUrl,getHeaders:this.makeHeaders.bind(this)})}enableDataCollection(){this._enableDataCollection=!0}disableDataCollection(){this._enableDataCollection=!1}setTransformHeaders(e){this._transformHeaders=e}makeHeaders(){return this._transformHeaders({"X-Client-Version":this.clientVersion,"X-SDK-Version":Ve,"Content-Type":"application/json","X-Client-Source":this.environmentTypes.getClientSource(),Authorization:`Bearer ${this.accessToken.getAccessToken()?.accessToken}`})}async fetchAccess(){return async function(e){const{http:t}=e,{request:n,response:a}=await t.fetchSafely({method:"POST",path:"/access"});if(403===a.status&&"org_blacklisted"===(await a.json()).error.code)return!1;if(200!==a.status)throw new me("Unable to determine if user has access.",{request:n,response:a});return!0}({http:this._http})}async fetchTermsAndConditionsVersion(){return async function(e){const{http:t}=e,{request:n,response:a}=await t.fetchSafely({path:"/terms-and-conditions-version",method:"GET"});if(200!==a.status)throw new me("Unable to fetch terms and conditions version.",{request:n,response:a});try{return(await a.json()).version}catch(e){throw new pe("Unable to parse terms and conditions version.",{request:n,response:a})}}({http:this._http})}async submitFeedback(e,t){return async function(e){const{version:t,http:n,request:a}=e;ye(t,oe.SUBMIT_FEEDBACK_SUPPORTED_VERSIONS);const{request:s,response:o}=await n.fetchSafely({method:"POST",path:`/${t}/feedback`,body:JSON.stringify(a)});if(201!==o.status)throw new me("Unable to post feedback",{request:s,response:o});return!0}({version:t?.version||"v2",http:this._http,request:(n=e,a=this._enableDataCollection,{feedback:{text:n.feedback.text,sentiment:n.feedback.sentiment,message_id:n.feedback.messageId},skip_logging:!a,session:Re(n.session)})});var n,a}async*streamResponse(e,t){let n;var a,s;n=t?.isPro?async function*(e){const{version:t,http:n,request:a,abortController:s}=e;ye(t,oe.PRO_STREAM_RESPONSE_SUPPORTED_VERSIONS);const{request:o,response:r}=await n.fetchSafely({method:"POST",path:`/${t}/pro/completions`,body:JSON.stringify(a),abortController:s});if(!r.body)throw new pe("Empty stream when parsing response",{request:o,response:r});const i=r.body.getReader(),c=new TextDecoder;let l=!1,d="";for(;!l;){const{value:e,done:t}=await i.read();if(l=t,d+=c.decode(e),Le(d)){const e=Ae(d),t=De(d);yield{content:Me(d),tokens:e,maxTokens:t}}else yield{content:d}}}({version:t?.version||"v1",http:this._http,request:(a=e,s=this._enableDataCollection,{skip_logging:!s,session:Re(a.session),chat_context:Ie(a.chatContext),response_message_id:a.responseMessageId,chat_summary:a.chatSummary,messages:a.messages.map((e=>({role:e.role,content:e.content,message_id:e.messageId})))}),abortController:t?.abortController}):async function*(e){const{version:t,http:n,request:a,abortController:s}=e;ye(t,oe.STREAM_RESPONSE_SUPPORTED_VERSIONS);const{request:o,response:r}=await n.fetchSafely({method:"POST",path:`/${t}/completions`,body:JSON.stringify(a),abortController:s});if(!r.body)throw new pe("Empty stream when parsing response",{request:o,response:r});const i=r.body.getReader(),c=new TextDecoder;let l=!1,d="";for(;!l;){const{value:e,done:t}=await i.read();if(l=t,d+=c.decode(e),Le(d)){const e=Ae(d),t=De(d);yield{content:Me(d),tokens:e,maxTokens:t}}else yield{content:d}}}({version:t?.version||"v3",http:this._http,request:Fe(e,this._enableDataCollection),abortController:t?.abortController});for await(const e of n)yield e}async fetchSuggestions(e,t){const n=await async function(e){const{version:t,http:n,request:a,abortController:s}=e;ye(t,oe.FETCH_SUGGESTIONS_SUPPORTED_VERSIONS);const{request:o,response:r}=await n.fetchSafely({method:"POST",path:`/${t}/suggestions`,body:JSON.stringify(a),abortController:s});if(200!==r.status)throw new me("Unable to fetch suggestions.",{request:o,response:r});let i;try{i=(await r.json()).suggestions}catch(e){throw new pe("Unable to parse suggestions response.",{request:o,response:r})}if(!Array.isArray(i))throw new pe("Received suggestions is not an array.",{request:o,response:r});return i}({version:t?.version||"v2",http:this._http,request:(a=e,s=this._enableDataCollection,{skip_logging:!s,session:Re(a.session),type:a.type,variables:Pe(a.variables)}),abortController:t?.abortController});var a,s;return n.map((e=>e.text))}async submitCodeExecutionResult(e,t){return async function(e){const{version:t,http:n,request:a,abortController:s}=e;ye(t,oe.SUBMIT_CODE_EXECUTION_SUPPORTED_VERSIONS);const{request:o,response:r}=await n.fetchSafely({method:"POST",path:"/v2/execution_result",body:JSON.stringify(a),abortController:s});if(201!==r.status)throw new me("Unable to fetch suggestions.",{request:o,response:r});return!0}({version:t?.version||"v2",http:this._http,request:(n=e,a=this._enableDataCollection,{skip_logging:!a,session:Re(n.session),execution_result:{code:n.executionResult.code,error:n.executionResult.error,success:n.executionResult.success,message_id:n.executionResult.messageId}}),abortController:t?.abortController});var n,a}async proFetchSummary(e,t){return async function(e){const{version:t,http:n,request:a}=e;ye(t,oe.PRO_SUMMARIES_SUPPORTED_VERSIONS);const{request:s,response:o}=await n.fetchSafely({method:"POST",path:`/${t}/pro/summaries`,body:JSON.stringify(a)});if(200!==o.status)throw new me("Unable to create summary",{request:s,response:o});const r=await o.json();return{summary:r.data.summary,summaryDate:r.data.summary_date,summaryTechnique:r.data.summary_technique}}({version:t?.version||"v1",http:this._http,request:(n=e,a=this._enableDataCollection,{skip_logging:!a,session_id:n.session.sessionId,response_message_id:n.responseMessageId,source:{name:n.source.name,type:n.source.type,data:n.source.data.map((e=>({role:e.role,content:e.content,message_id:e.messageId,tokens:e.tokens})))}})});var n,a}}let $e;const Be=()=>{if(!$e)throw new Error("Assistant store not initialized");return $e};class He{_getAssistantSdk;_getServerUrl;_getNucleusAccount;_getAccountMaxTokens;_isLocalDev;_syncDiskStateChained;_unbindSyncDiskStateChained;clientContextType;deletedChatKeys;getFeatureFlagBool;constructor(e){this._getAssistantSdk=e.getAssistantSdk,this._getServerUrl=e.getServerUrl,this._getNucleusAccount=e.getNucleusAccount,this._getAccountMaxTokens=e.getAccountMaxTokens,this._isLocalDev=e.isLocalDev,this._syncDiskStateChained=e.syncDiskStateChained,this._unbindSyncDiskStateChained=e.unbindSyncDiskStateChained,this.deletedChatKeys=e.deletedChatKeys,this.clientContextType=e.clientContextType||"notebook",this.getFeatureFlagBool=e.getFeatureFlagBool||(()=>!1)}getAssistantSdk=()=>this._getAssistantSdk();getServerUrl=()=>this._getServerUrl();getNucleusAccount=()=>this._getNucleusAccount();getAccountMaxTokens=e=>this._getAccountMaxTokens(e);isLocalDev=()=>this._isLocalDev();syncDiskStateChained=e=>this._syncDiskStateChained(e);unbindSyncDiskStateChained=()=>this._unbindSyncDiskStateChained()}const ze=11;let Ue=4096,qe=null;const Ze=(0,ee.F)((0,ne.tJ)((0,ne.mW)((0,ae.n)(((e,t)=>({access:!0,terms:{accepted:!1,version:null},serverUrl:null,notebooks:[],path:null,settings:{enableDataCollection:!1,open:!1,addCodeToNotebook:null},user:null,account:null,menuOpen:!1,attachContextOpen:!1,summarizedFiles:{},setServerUrl:async()=>{let t=null;try{t=await Be().getServerUrl()}catch(e){console.error("Error getting server url",e)}t||e((e=>{e.serverUrl=t}))},setPath:(n,a,s)=>{n!==t().path&&qe&&(qe.abort(),t().resetToHomeScreen()),e((e=>function(e,t,n,a){e.path=t,e.user=n.user;const s=e.notebooks.find((e=>e.path===t));return s?(s.notebookState.dataframes=n.dataframes,function(e,t,n){if(function(e){const{selectedChatStarter:t}=e;return"graph-dataframe"===t?.name||"describe-dataframe"===t?.name||"data-cleaning-suggestions"===t?.name||"dataframe-suggestions"===t?.name}(e)&&0===t.length)return e.chatStarters=n(!0),void(e.selectedChatStarter=null);e.chatStarters=n(0===t.length)}(s.homeScreen,n.dataframes,a)):e.notebooks.push({path:t,activeChatKey:null,previousChatKey:null,chats:{},notebookState:{dataframes:n.dataframes,selectedCell:null,selectedText:null,error:null},homeScreen:O(n.dataframes,a),suggestionState:{loading:!1,suggestions:null,dataframe:null,error:null}}),e}(e,n,a,s)))},setAccess:t=>{e((e=>{t?e.access=!0:e.logout()}),!0)},setTermsVersion:t=>{e((e=>{e.terms.version=t}))},acceptTerms:(t,n)=>{e((e=>{e.terms.accepted=n,n&&Be().syncDiskStateChained(n)}))},updateAccount:async()=>{if(Be().isLocalDev())return;const t=await Be().getNucleusAccount(),n=await Be().getAccountMaxTokens(t);Ue=n,e((e=>{e.account=t;const a=W(e);a&&(a.maxTokens=n)}),!0)},selectChatStarter:t=>{e((e=>function(e,t){const n=J(e);n&&(n.homeScreen.selectedChatStarter=t)}(e,t)))},resetToHomeScreen:()=>{qe?.abort(),t().setAttachContextOpen(!1),t().setHidePopups(!0),e((e=>{!function(e){const t=J(e);t&&(t.suggestionState={dataframe:null,error:null,loading:!1,suggestions:null})}(e)})),e((e=>function(e){const t=J(e);t&&(t.homeScreen.selectedChatStarter=null,t.previousChatKey=t.activeChatKey,t.activeChatKey=null)}(e)))},setActiveChat:t=>{qe?.abort(),e((e=>$(e,t)))},setMenuOpen:t=>{e((e=>{e.menuOpen=t}))},setCellError:t=>{e((e=>{!function(e,t){const n=J(e);e.hidePopups=!1,n&&(n.notebookState.error=t)}(e,t)}))},setTextSelection:t=>{e((e=>{!function(e,t){const n=J(e);e.hidePopups=!1,n&&(n.notebookState.selectedText=t)}(e,t)}))},updateSuggestions:async(n,a,s,o)=>{e((e=>{Z(e,!0)}));try{const r=await async function(e,t,n,a,s,o,r){return!r||o&&R[r.path]?null:async function(e){const{assistantSdk:t,state:n,activeNotebook:a,activeChat:s,activeCell:o,type:r,dataframe:i}=e;if(!n.user)throw new Error("User is not logged in");try{const e=new AbortController;return R[a.path]=e,await t.fetchSuggestions({session:s?.session||{userId:n.user,sessionId:"LEGACY_SUGGESTIONS"},type:r,variables:{code_cell:o,name:i?.name||"",dtypes_str:i?.dtypesStr||""}},{abortController:e})}catch(e){throw console.error("Error fetching suggestions",e),e}finally{R[a.path]=null}}({state:e,activeNotebook:r,activeChat:o,activeCell:t,type:n,dataframe:a,assistantSdk:s})}(t(),n,a,s,o,W(t()),J(t()));e((e=>{!function(e,t){const n=J(e);n&&(n.suggestionState={...n.suggestionState,error:null,loading:!1,suggestions:t?.length?t:n.suggestionState.suggestions})}(e,r)}))}catch(t){e((e=>{Z(e,!1)})),e((e=>{!function(e,t){const n=J(e);n&&(n.suggestionState={...n.suggestionState,loading:!1,error:t})}(e,t.message)}))}},setSuggestionsDataframe:t=>{e((e=>{!function(e,t){const n=J(e);n&&(n.suggestionState={...n.suggestionState,suggestions:null,error:null,loading:!1,dataframe:t})}(e,t)}))},toggleMenuOpen:()=>{e((e=>{e.menuOpen=!e.menuOpen}))},setAttachContextOpen:t=>{e((e=>{e.hidePopups=!1,e.attachContextOpen=t}))},addInstruction:async({instruction:e,fetchFileSummary:n})=>{const a=W(t()),s=a?a.context:{type:"default-python",variables:{}};await t().makeChatRequest({context:s,instruction:e,fetchFileSummary:n})},abortChatRequest:()=>{const e=W(t());e?.inProgress&&qe&&(qe.abort("User aborted request"),qe=null)},makeChatRequest:async({context:n,instruction:a,fetchFileSummary:s})=>{const o=await Be().getNucleusAccount(),r=o?.metadata?.is_pro_tier;qe=new AbortController;const i=qe.signal;e((e=>function(e,t,n){const a=W(e);e.attachContextOpen=!1,e.hidePopups=!0,a?j(a,n):function(e,t,n){const a=J(e),s=(0,I.Z)();a&&(a.chats[s]=function(e,t,n,a){const s={sessionId:(0,I.Z)(),userId:e};return{key:t,name:X(n,a),context:n,messages:[{role:"user",content:a,messageId:U(s,1),tokens:0}],inProgress:{type:"active",content:"",message_id:U(s,2)},session:s,tokens:0,lastUpdated:new Date,maxTokens:4096}}(e.user||"",s,t,n),a.activeChatKey=s)}(e,t,n)}(e,n,a)));const c=await async function(e,t,n,a){if(!a)return[];const s=J(e),o=s?.notebookState,r=o?.dataframes||[],i=[],c=W(Ze.getState());if(!c||!s)return i;const l=Ze.getState().summarizedFiles,d=Object.keys(l),u=d.find((e=>e.slice(-s.path.length)===s.path));if(u){const e=l[u],t=ft(s.path.split("/").pop()||s.path,s.path,e.summary),n=c.messages.length>1;t&&!n&&i.push(t)}for(const e of r)if(t.includes(`@dataframe:${e.name}`)){const t=gt(e.name,e.cols);c.messages.some((e=>e.content===t))||i.push(t)}for(const a of d)if(t.includes(`@file:${a}`)&&n){const t=await n(c,a,l[a].lastModified,e.settings.enableDataCollection);if(!t)continue;const s=ft(a,a,t);c.messages.some((e=>e.content===s))||i.push(s)}return i}(t(),a,s,r);e((e=>{const t=W(e);t&&c.forEach((e=>{j(t,e)}))}));const{path:l,activeChatKey:d,chatState:u}=z(t()),m=Be().getAssistantSdk();let h=function(e,t){if(!t?.activeChatKey||!e||!en(e.inProgress))throw new Error("No active request");return{session:e.session,messages:Qt(wt(e)),chatContext:tn(e.context),responseMessageId:e.inProgress.message_id}}(W(t()),J(t()));r&&u.summary&&(h.chatSummary=u.summary.summary);const p=async()=>{e((e=>{!async function(e,t,n){const{chatState:a}=z(e),s=en(a.inProgress)?a.inProgress.content:"",o=U(a.session,a.messages.length+1),r=a.inProgress.content;if(!r&&!t)throw new Et("error","Missing content",200);a.messages.push({role:"assistant",content:r,messageId:o,feedback:null,tokens:a.tokens??0,maxTokens:a.maxTokens}),a.inProgress=null,a.lastUpdated=new Date;const i=(0,P.Js)(a.session);if(n&&i){const e=xt(s).find((e=>"python"===e.type&&""!==e.content));e&&n(e.content)}}(e,Boolean(i.aborted),(()=>{Be().syncDiskStateChained()}))}));const n=W(t());if(n&&r)try{const t=await async function({assistantSdk:e,activeChat:t,isPro:n,maxTokens:a=15565}){if(!t||!n)return;const s=wt(t);return e.proFetchSummary({session:t.session,responseMessageId:t.messages[t.messages.length-1].messageId,source:{name:"chat-history",type:"chat-history",data:s.map((e=>({role:e.role,content:e.content,messageId:e.messageId,tokens:e.tokens||0})))}})}({assistantSdk:m,activeChat:n,isPro:r});e((e=>{const n=W(e);n&&(n.summary=t)}))}catch(e){console.error("Error fetching summary",e)}};try{for await(const t of m.streamResponse(h,{abortController:qe,isPro:r}))e((e=>q(e,t)));p()}catch(t){if(i.aborted&&"User aborted request"===i.reason)return void p();console.error("Error making chat request",t);const n=function(e,t){if(qe?.signal.aborted)return null;const n=e.name,a=[vt,ie,le,ue,he,ge,fe,Ce,we,Ee].includes(n);return{type:"error",errorType:a?e.type:"unknown",status:a?e.status:0,message:a?e.message:"An unknown error occurred",failingInstruction:t||""}}(t,a);e((e=>function(e,t,n,a){const s=e.notebooks.find((e=>e.path===t)),o=s?.chats[n];s&&o&&(a?o.inProgress=a:1===o.messages.length?delete s.chats[n]:(o.messages.pop(),o.inProgress=null))}(e,l,d,n)))}finally{qe=null}},addSyncedChats:(t,n)=>{if(!t||!t.path)return;let a=e=>e.notebooks.find((e=>e.path===t.path));for(const s of n)e((e=>{let n=a(e);n||(console.log(`Adding notebook ${t.path} to state after sync`),e.notebooks.push(t),n=t),n.chats[s.key]||(n.chats[s.key]=s)}))},resetActiveChat:()=>{qe?.abort();const n=W(t());e((e=>function(e){const{notebook:t,activeChatKey:n}=z(e);delete t.chats[n]}(e))),n&&n.messages.length>0&&t().makeChatRequest({context:n.context,instruction:n.messages[0].content})},deleteMessagesStartingWith:t=>{e((e=>{const n=W(e);if(!n)return;const a=n.messages.findIndex((e=>e.messageId===t));n.messages=n.messages.slice(0,a),n.tokens=n.messages[n.messages.length-1].tokens||0}))},submitFeedback:async n=>{e((e=>{!function(e,t){const{chatState:n}=z(e),a=n.messages.find((e=>e.messageId===t.messageId));"assistant"===a?.role&&(a.feedback=t)}(e,n)}));const a=W(t())?.session;a&&await async function(e,t){try{return await e.submitFeedback(t)}catch(e){console.error("Error posting feedback: ",e)}}(Be().getAssistantSdk(),{session:a,feedback:n})},retryError:()=>{const n=W(t());if("error"===n?.inProgress?.type){const a=n.inProgress.failingInstruction,s=n.context;e((e=>function(e){const t=J(e),n=W(e);t?.activeChatKey&&n&&"error"===n?.inProgress?.type&&(0===n.messages.length?delete t.chats[t.activeChatKey]:(n.messages.pop(),n.inProgress=null))}(e))),t().makeChatRequest({context:s,instruction:a})}},gotoPreviousChat:()=>{e((e=>{!function(e){const t=G(e);$(e,t?.key||null)}(e)}))},toggleSettings:()=>{e((e=>{e.settings.open=!e.settings.open}))},setEnableDataCollection:t=>{const n=Be().getAssistantSdk();t?n.enableDataCollection():n.disableDataCollection(),e((e=>{e.settings.enableDataCollection=t}))},setAddCodeToNotebook:t=>{e((e=>{e.settings.addCodeToNotebook=t}))},deleteChat:t=>{e((e=>{const n=J(e);if(n&&n.activeChatKey!==t)return Be().deletedChatKeys.push(t),delete n.chats[t],e})),Be().syncDiskStateChained()},setHidePopups:t=>{e((e=>{e.hidePopups=t,e.attachContextOpen=!1}))},addSummarizedFile:(t,n,a)=>{t&&e((e=>{e.summarizedFiles[t]={summary:n,lastModified:a}}))},logout:()=>{e((e=>{Be().unbindSyncDiskStateChained(),e.account=null,e.user=null,e.terms.accepted=!1,e.terms.version=null,e.settings.open=!1,e.settings.enableDataCollection=!1;const t=J(e);return e.notebooks=[{...t,path:t?.path,activeChatKey:null,previousChatKey:null,chats:{},notebookState:{dataframes:[],selectedCell:null,selectedText:null,error:null},suggestionState:{loading:!1,suggestions:null,dataframe:null,error:null},homeScreen:{chatStarters:t?.homeScreen.chatStarters,selectedChatStarter:null}}],e}),!0)}}))),{enabled:!1}),{name:"anaconda-assistant",version:ze,storage:(0,ne.FL)((()=>"undefined"==typeof localStorage?{getItem:e=>M[e]?JSON.parse(M[e]):null,setItem:(e,t)=>{M[e]=JSON.stringify(t)},removeItem:e=>{delete M[e]}}:localStorage)),onRehydrateStorage:()=>Q}),te.X),je=m().memo((e=>{const{msg:t,setMsg:n,sendMessage:a,loading:s,onInstructionUpdate:o,placeholder:r,maxTokens:i,setHidePopups:c,contextSelectorOptions:l=[]}=e,h=Be().getFeatureFlagBool("assistant-show-context-selector",!1),p=s?'Press "Enter" to stop the response':r,g="as-instruction-input-textarea",f=(0,u.useRef)(null),b=i,[y,w]=(0,u.useState)(!1),[v,k]=(0,u.useState)(""),[S,N]=(0,u.useState)(l),[_,M]=(0,u.useState)(0),R=[],[I,P]=(0,u.useState)(0),F=l.reduce(((e,t)=>(e[t.value]=t.description,e)),{}),V=(0,A.sc)([[/@([^\s]+)/g,({key:e,value:t})=>m().createElement("span",{key:e,style:Object.keys(F).some((e=>e===t.replace("@","")))?{color:"#6c5af6"}:{}},t)]]),O=(0,u.useCallback)((e=>{""!==t.trim()&&a(t.trim()),e.preventDefault()}),[t,a]),$=(0,u.useCallback)((e=>{const t=1===e.key.length&&e.key.match(/\S/);"Enter"!==e.key||e.shiftKey?"@"===e.key&&h?(k(""),w(!0)):" "!==e.key&&"Tab"!==e.key&&"Escape"!==e.key||!h?y&&h&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),M(f.current?.selectionStart??0),R[0]?.focus()),t&&k(`${v}${e.key}`)," "===e.key||"Tab"===e.key?(w(!1),k("")):"Backspace"===e.key&&(v.length>0?k(v.slice(0,-1)):(w(!1),k("")))):(w(!1),k("")):(O(e),c(!0),w(!1),k(""))}),[O,c]),B=(0,u.useCallback)((e=>{const t=f.current?.value.slice(0,b+1)||"";o(t),n(t)}),[o,n,b]),H=(e,a=f.current?.selectionStart)=>{const s=a,o=t.slice(0,s),r=t.slice(s),i=o.lastIndexOf("@")+1,c=o.slice(0,i)+e.value+r;n(c),w(!1),f.current?.focus()},z=(0,u.useCallback)(((e,t,n,a)=>{e.preventDefault(),"Enter"!==e.key||e.shiftKey?a>0&&"ArrowUp"===e.key?P(Math.max(0,n-1)):a>0&&"ArrowDown"===e.key?P(Math.min(n+1,a-1)):"Escape"===e.key&&(w(!1),f.current?.focus()):H(t,_)}),[_,H]);(0,L.qR)((()=>{f.current&&(0,T.Ld)(f.current)})),(0,u.useEffect)((()=>{s||f.current&&f.current.focus()}),[s,g]),(0,u.useEffect)((()=>{l.length>0&&N(l.filter((e=>e.value.toLowerCase().startsWith(v.toLowerCase()))))}),[v,l]),(0,u.useEffect)((()=>{R[I]?.focus()}),[I]);let U=0,q=0,Z=0,j=0;return t?(U=f.current?.scrollHeight||0,q=U+6,Z=q>=35?36-q:0,Z<-178&&(Z=-178),j=U?U-4:16):(U=0,q=35,Z=0,j=20),m().createElement(x,{asChildName:"chat-input"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-chat-input {\n  --background-color: var(--as-main-bg-color-secondary, #fff);\n  --border-color: var(--as-border-color, #2c303a);\n  --text-color: var(--as-main-font-color, #2c303a);\n  --text-color-disabled: #f00;\n  --button-bg-color-default: #0cca4a;\n  --button-color-default: white;\n  --button-bg-color-hover: #4fab4f;\n  --button-color-hover: #06262d;\n  --button-bg-color-disabled: rgba(67, 176, 73, 0.50);\n  display: flex;\n  position: relative;\n}\n\n.anaconda-assistant-chat-input form {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: 35px;\n  padding: 8px 8px 8px 16px;\n  max-height: 215px;\n  border-radius: 8px;\n  border: 1px solid var(--border-color);\n  background: var(--background-color);\n  z-index: 100;\n}\n\n.anaconda-assistant-chat-input form textarea {\n  color: var(--text-color);\n  border: none;\n  resize: none;\n  flex: 1;\n  font-family: 'Inter', sans-serif;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 20px;\n  background: none;\n  min-height: 20px;\n  max-height: 200px;\n}\n\n.anaconda-assistant-chat-input form textarea:disabled {\n  cursor: not-allowed;\n}\n\n.anaconda-assistant-chat-input form textarea::placeholder:disabled {\n  cursor: not-allowed;\n  color: var(--text-color-disabled);\n}\n\n.anaconda-assistant-chat-input form textarea::placeholder {\n  color: #6a718a;\n  font-style: italic;\n}\n\n.anaconda-assistant-chat-input form textarea:focus {\n  border: none;\n  outline: none;\n}\n\n\n.anaconda-assistant-chat-input-submit-button,\n.anaconda-assistant-chat-input-stop-button {\n  border: none;\n  background: var(--button-bg-color-default);\n  color: var(--button-color-default);\n  border-radius: 4px;\n  cursor: pointer;\n  height: 100%;\n  padding: 7px 10px;\n  box-sizing: border-box;\n}\n\n.anaconda-assistant-chat-input-submit-button:hover {\n  background: var(--button-bg-color-hover);\n  color: var(--button-color-hover);\n}\n\n.anaconda-assistant-chat-input-stop-button {\n  background: #6A718A;\n}\n\n.anaconda-assistant-chat-input-submit-button-send-icon {\n  width: 20px;\n}\n\n[class^='anaconda-assistant-'][class$='-context-selector'],\n[class^='anaconda-assistant-'][class$='-context-selector is-open'] {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  margin-bottom: -1px;\n  margin-left: -16px;\n  position: absolute;\n  bottom: 100%;\n  width: 100%;\n  z-index: 1000;\n  -webkit-overflow-scrolling: touch;\n  border-radius: 4px;\n  border: 1px solid #dfe3e7;\n  background: #fff;\n  box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.25);\n  min-width: 200px;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 24px;\n  color: #2c303a;\n  display: none;\n}\n\n[class^='anaconda-assistant-'][class$='-context-selector is-open'] {\n  display: block;\n}\n\n[class^='anaconda-assistant-'][class$='-context-selector-list'] {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n[class^='anaconda-assistant-'][class$='-context-selector-list']::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 7px;\n}\n\n[class^='anaconda-assistant-'][class$='-context-selector-list']::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: #ced2d9;\n  margin: 2px;\n}\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-option'],\n[class^='anaconda-assistant-'][class$='-context-selector-title'] {\n  box-sizing: border-box;\n  display: flex;\n  padding: 8px 10px;\n  flex-direction: row;\n  align-items: center;\n}\n\n[class^='anaconda-assistant-'][class$='-context-selector-title'] {\n  display: flex;\n  flex-direction: column;\n  background: #e9e6fe;\n  border-radius: 8px;\n  color: #2C303A;\n  font-family: Inter;\n  font-size: 15px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 20px;\n  margin: 8px;\n}\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-label'] {\n  flex-grow: 1;\n}\n[class^='anaconda-assistant-'][class*='-context-selector-list-description'] {\n  display: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: min-content;\n}\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-option']:last-child {\n  border-bottom-right-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-option']:focus-visible {\n  outline: none;\n}\n\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-option']:focus,\n[class^='anaconda-assistant-'][class*='-context-selector-list-option']:hover {\n  background-color: #ced2d9;\n}\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-option']:focus [class^='anaconda-assistant-'][class*='-context-selector-list-description'],\n[class^='anaconda-assistant-'][class*='-context-selector-list-option']:hover [class^='anaconda-assistant-'][class*='-context-selector-list-description']{\n  display: flex;\n}\n\n[class^='anaconda-assistant-'][class*='-context-selector-list-option is-selected'] {\n  background-color: #0cca4a;\n}\n"),m().createElement("form",{style:{height:q,marginTop:Z},onSubmit:O},m().createElement(A.pv,{ref:f,style:{width:"100%",height:j},value:t,placeholder:p,className:g,disabled:s,id:g,maxLength:b,onKeyDown:$,onChange:B},V),m().createElement(x,{asChildName:"context-selector",className:y&&S.length>0?"is-open":""},m().createElement(x,{asChildName:"title"},"Select context"),m().createElement(x,{asChildName:"list"},S.map(((e,t)=>m().createElement("div",{key:e.value,className:"anaconda-assistant-context-selector-list-option",role:"option",ref:e=>e?R[t]=e:null,tabIndex:I===t?0:-1,onFocus:()=>(e=>{P(e)})(t),onKeyDown:n=>z(n,e,t,S.length),onClick:()=>H(e)},m().createElement(x,{asChildName:"label"},e.label),m().createElement(x,{asChildName:"description","data-tooltip-id":`context-element-${e.value}`,"data-tooltip-content":`${F[e.value]}`},"ⓘ"),m().createElement(D.u,{key:e.value,id:`context-element-${e.value}`,place:"left",style:{width:"50%",zIndex:"999"}})))))),m().createElement(C,{asChildName:s?"stop-button":"submit-button","data-testid":s?"stop-button":"submit-button",onClick:e.onStop},m().createElement(x,{asChildName:"send-icon"},s?m().createElement(d.Stop,null):m().createElement(d.Send,null)))))}));var We=n(6542);function Ke({scrollFn:e,tokenLimit:t,fetchFileSummary:n}){const[a,s,o,r,i,c,l,d,h,p,g,f,b,C,x,y,w,v,E,k,S,N,_,T,L]=Ze((e=>[W(e)?.key,W(e)?.messages.length,W(e)?.inProgress,W(e)?.tokens,W(e)?.maxTokens,W(e)?.inProgress?.type,J(e)?.notebookState,e.addInstruction,e.summarizedFiles,e.account?.metadata?.is_pro_tier,J(e)?.notebookState.selectedText,J(e)?.notebookState.error,e.makeChatRequest,e.resetToHomeScreen,e.setCellError,e.hidePopups,W(e),e.attachContextOpen,e.abortChatRequest,e.account,e.resetActiveChat,J(e),e.setAttachContextOpen,e.setHidePopups,e.settings.enableDataCollection])),[A,D]=(0,u.useState)(0),{ref:M,width:R}=(0,We.Z)(),I=[];p&&(l?.dataframes?.forEach((e=>{I.push({label:`@dataframe:${e.name}`,value:`dataframe:${e.name}`,description:"Add a DataFrame as context. WARNING: Do not share any sensitive data"})})),Object.keys(h).forEach((e=>{I.push({label:`@file:${e}`,value:`file:${e}`,description:"Add a File as context. WARNING: Do not share any sensitive data"})})));const P=null!=i?i:t,[F,V]=(0,u.useState)(null!=r?r+A:0),[O,$]=(0,u.useState)(""),B=(0,u.useRef)(void 0);function H(t){!function(t){d({instruction:t,fetchFileSummary:n}),setTimeout(e,100)}(t),$("")}(0,u.useEffect)((()=>(B.current&&clearTimeout(B.current),B.current=setTimeout((()=>{clearTimeout(B.current);let e=A;O||null!=o||(e=0,D(0)),V(null!=r?r+e:0)}),250),()=>clearTimeout(B.current))),[s,r,A,o,O]);const z=Be().getFeatureFlagBool("assistant-show-context-selector",!1),U=null!=a?z&&p?"Type @ to add context to this chat...":"Reply to this chat...":`Or start a new chat without ${Be().clientContextType} context here...`,q="active"===c,Z=N?.notebookState.dataframes,j=(0,u.useRef)(null);return(0,u.useEffect)((()=>{q&&j.current&&j.current.focus()}),[q]),m().createElement(m().Fragment,null,m().createElement(dt,{width:R,error:f,hidePopups:y,enableDataCollection:L,makeChatRequest:b,resetToHomeScreen:C,setCellError:x}),m().createElement(ut,{width:R,error:f,hidePopups:y,enableDataCollection:L,makeChatRequest:b,resetToHomeScreen:C,selectedText:g}),m().createElement(_t,{onAddContext:H,makeChatRequest:b,attachContextOpen:v,dataFrames:Z,setAttachContextOpen:_,activeChatAvailable:null!==w}),m().createElement("div",{className:"as-chat-footer-container",ref:M},q&&m().createElement("input",{type:"text",ref:j,style:{position:"absolute",top:-100,opacity:0},onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),E())}}),m().createElement(je,{msg:O,setMsg:$,sendMessage:H,loading:q,onInstructionUpdate:function(e){var t;D((t=e,(0,kt.encode)(t).length))},placeholder:U,maxTokens:P,setHidePopups:T,onStop:E,contextSelectorOptions:I}),m().createElement(Je,{resetActiveChat:S,setAttachContextOpen:_,loading:null!=c,dataframesLength:Z?.length,activeChatKey:a,activeChatType:c,tokens:F,maxTokens:P,isPro:Boolean(k?.metadata?.is_pro_tier)})))}const Ge=e=>{const{disableMenu:t,activeChat:n,clientVersion:a,chatsHistoryOpen:s,showSettings:o,settingsOpen:r,toggleChatsHistory:i,newChatClicked:c,toggleSettings:l}=e,u=()=>{s&&i(),r&&l()};return m().createElement(x,{asChildName:"header"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-header {\n  display: flex;\n  padding: 8px 16px;\n  align-items: center;\n  font-family: 'Inter', sans-serif;\n  border-bottom: 1px solid var(--as-border-color-light, #ced2d9);\n  background: var(--as-main-bg-color-primary, #fff);\n  box-shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.15);\n}\n\n.anaconda-assistant-header-title {\n  display: flex;\n  flex: 1;\n  align-items: center;\n}\n\n.anaconda-assistant-header-buttons,\n.anaconda-assistant-header-buttons-disabled {\n  display: flex;\n}\n\n[class^='anaconda-assistant-header-buttons-icon'],\n[class^='anaconda-assistant-header-buttons-disabled-icon'] {\n  display: flex;\n  width: 36px;\n  height: 36px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  border-radius: 4px;\n  margin-right: 16px;\n  color: var(--as-main-font-color-secondary, #52596b);\n  cursor: pointer;\n}\n\n[class^='anaconda-assistant-header-buttons-disabled-icon']:last-child,\n[class^='anaconda-assistant-header-buttons-icon']:last-child {\n  margin-right: 0;\n}\n\n[class^='anaconda-assistant-header-buttons-icon']:hover {\n  background-color: #cdd2da;\n  color: #3c7529;\n}\n\n.anaconda-assistant-header-buttons-icon-open {\n    background-color: #e5e8eb;\n    color: #0cca4a;\n}\n\n[class^='anaconda-assistant-header-buttons-disabled-icon'],\n[class^='anaconda-assistant-header-buttons-disabled-icon']:hover,\n.anaconda-assistant-header-buttons-disabled-icon-open {\n  background: none;\n  cursor: auto;\n  color: var(--as-main-disabled-color, #abb1bf);\n}\n\n.anaconda-assistant-header-title-icon {\n  width: 24px;\n  height: 24px;\n  color: #31a824;\n}\n\n.anaconda-assistant-header-title-text {\n  color: var(--as-main-font-color, #2c303a);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n  margin-left: 4px;\n}\n\n.anaconda-assistant-header-title-version {\n  color: var(--as-main-font-color, #2c303a);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 300;\n  line-height: 24px;\n  margin-left: 4px;\n}\n"),m().createElement(x,{asChildName:"title"},m().createElement(x,{asChildName:"icon"},m().createElement(d.AnacondaLogo,null)),m().createElement(x,{asChildName:"text"},"Anaconda Assistant"),m().createElement(x,{asChildName:"version"},a)),m().createElement(x,{asChildName:"buttons"+(t?"-disabled":"")},m().createElement(x,{asChildName:"icon"+(n||s||r?"":"-open"),"data-tooltip-id":"anaconda-assistant-header-button-new-chat","data-tooltip-hidden":t,"data-tooltip-content":"New chat",onClick:()=>{t||(u(),c())}},m().createElement(d.NewChat,null),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"anaconda-assistant-header-button-new-chat",place:"bottom"})),m().createElement(x,{asChildName:"icon"+(s?"-open":""),"data-tooltip-id":"anaconda-assistant-header-button-history","data-tooltip-content":"Chats history","data-tooltip-hidden":t,onClick:()=>{t||(u(),!s&&i())}},m().createElement(d.History,null),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"anaconda-assistant-header-button-history",place:"bottom"})),o&&m().createElement(m().Fragment,null,m().createElement(x,{asChildName:"icon"+(r?"-open":""),"data-tooltip-id":"anaconda-assistant-header-button-settings","data-tooltip-content":"Settings","data-tooltip-hidden":t,onClick:()=>{t||(u(),!r&&l())}},m().createElement(d.Settings,null),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"anaconda-assistant-header-button-settings",place:"bottom"})))))},Je=m().memo((e=>{const{setAttachContextOpen:t,loading:n,dataframesLength:a,tokens:s,maxTokens:o,isPro:r}=e,i=Math.ceil(s/o*100),c=Math.round(s/o*100),l=c>100?100:c;return m().createElement(x,{asChildName:"chat-footer"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-chat-footer {\n  --text-color: #6a718a;\n\n  color: var(--text-color);\n  font-family: 'Inter', sans-serif;\n  font-size: 11px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 20px;\n  display: flex;\n  align-items: bottom;\n}\n\n.anaconda-assistant-chat-footer-token {\n  display: flex;\n  flex-direction: column;\n}\n\n.anaconda-assistant-chat-footer-token-bar {\n  display: flex;\n  width: 72px;\n  margin-right: 16px;\n  margin-bottom: 6px;\n  background: #e1e1e1;\n}\n\n.anaconda-assistant-chat-footer-token-bar-filled {\n  height: 7px;\n  background: linear-gradient(270deg, #ffb84f 0%, #76dd5c 100%), #80b241;\n  transition: width 1s ease-in-out;\n}\n\n.anaconda-assistant-chat-footer-token-text {\n  display: flex;\n  margin-right: 4px;\n}\n\n.anaconda-assistant-chat-footer-token-text-count {\n  display: flex;\n  font-weight: bold;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.anaconda-assistant-chat-footer-attach-context {\n  flex-grow: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.anaconda-assistant-chat-footer-attach-context-button {\n  border: none;\n  background: inherit;\n  padding: 0px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  color: var(--text-color);\n}\n\nanaconda-assistant-chat-footer-attach-context-button:hover {\n  filter: brightness(1.2);\n}\n\n.anaconda-assistant-chat-footer-attach-context-button:disabled {\n  color: #999;\n  cursor: not-allowed;\n}\n"),!r&&m().createElement(x,{asChildName:"token"},m().createElement(x,{asChildName:"bar","data-testid":"token-count-bar"},m().createElement(x,{asChildName:"filled",style:{width:`${l>=100?100:i}%`}})),m().createElement(x,{asChildName:"text",style:s>=o?{color:"red"}:{}},"Chat ",m().createElement(x,{asChildName:"count"},l,"%"),"full")),m().createElement(x,{asChildName:"attach-context"},m().createElement(C,{asChildName:"button",disabled:n||!a,onClick:()=>t(!0)},m().createElement(x,{asChildName:"icon"},m().createElement(d.Clip,null)),"Attach to chat")))})),Ye="\n.anaconda-assistant-completed-thumbs,\n.anaconda-assistant-completed-thumbs-selected {\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n  margin-left: 8px;\n  color: #e0e0e0;\n}\n\n.anaconda-assistant-completed-thumbs-selected.thumbs-up {\n  animation: anaconda-assistant-code-thumbs-up-beat 0.5s infinite;\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-in-out;\n  color: #14d662;\n}\n\n.anaconda-assistant-completed-thumbs-selected.thumbs-up svg {\n  color: #14d662;\n}\n\n@keyframes anaconda-assistant-code-thumbs-up-beat {\n  0%,\n  90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(1.25);\n  }\n}\n\n.anaconda-assistant-completed-thumbs-selected.thumbs-down {\n  animation: anaconda-assistant-code-thumbs-down-beat 0.5s infinite;\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-in-out;\n  color: #f29c9c;\n}\n\n.anaconda-assistant-completed-thumbs-selected.thumbs-down svg {\n  color: #f29c9c;\n}\n\n@keyframes anaconda-assistant-code-thumbs-down-beat {\n  0%,\n  90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(1.25);\n  }\n}\n",Xe=m().memo((({selected:e,direction:t})=>m().createElement(x,{asChildName:e?"completed-thumbs-selected":"completed-thumbs","data-testid":`completed-thumbs-${t}`,className:`thumbs-${t}`},m().createElement(E,{asChildName:"style"},Ye),m().createElement(x,{asChildName:"completed-thumbs-tooltip","data-tooltip-id":"completed-thumbs-tooltip","data-tooltip-content":"up"===t?"I liked this response":"I didn't like this response"},"up"===t?m().createElement(d.ThumbsUp,null):m().createElement(d.ThumbsDown,null)),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"completed-thumbs-tooltip"}))));var Qe=n(6186);function et(e){return u.createElement(b,{...e,as:"form"})}const tt="\n#static-anaconda-assistant-modal-arrow,\n#static-anaconda-assistant-modal-arrow::before {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #ced2d9;\n}\n\n#static-anaconda-assistant-modal-arrow {\n  visibility: hidden;\n}\n\n#static-anaconda-assistant-modal-arrow::before {\n  visibility: visible;\n  content: '';\n  transform: rotate(45deg);\n  bottom: 4px;\n}\n\n.anaconda-assistant-feedback-modal {\n  padding: 15px;\n  background: #ced2d9;\n  color: rgb(90, 86, 97);\n  border-radius: 4px;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.anaconda-assistant-feedback-modal-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n  color: #2c303a;\n}\n\n.anaconda-assistant-feedback-modal-header-icon {\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n  color: #2c303a;\n}\n\n.anaconda-assistant-feedback-modal-header .anaconda-assistant-feedback-modal-header-icon > svg {\n  color: #2c303a;\n  cursor: default;\n}\n\n.anaconda-assistant-feedback-modal-header .anaconda-assistant-feedback-modal-header-icon > svg:hover {\n  color: #2c303a;\n}\n\n.anaconda-assistant-feedback-modal-header-title {\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n}\n\n.anaconda-assistant-feedback-modal-form-text-area textarea,\n.anaconda-assistant-feedback-modal-form-text-area textarea:focus-visible {\n  width: calc(100% - 17px);\n  min-height: 70px;\n  height: 70px;\n  align-items: center;\n  display: flex;\n  background: #f5faf6;\n  border-radius: 4px;\n  border: 1px solid #8c94a6;\n  padding: 6px 5px 3px 10px;\n  margin-bottom: 5px;\n  font-family: Inter;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  color: #2c303a;\n  outline-color: transparent;\n}\n\n.anaconda-assistant-feedback-modal-form-button-container {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.anaconda-assistant-feedback-modal-form-button-container-submit-button {\n  border: none;\n  font-size: 12px;\n  background: #fff;\n  border: 1px solid #06262d;\n  border-radius: 4px;\n  padding-left: 12px;\n  padding-right: 12px;\n  margin-top: 5px;\n  height: 32px;\n  color: #06262d;\n  cursor: pointer;\n}\n\n.anaconda-assistant-feedback-modal-form-button-container-submit-button:hover {\n  background: #cdd2da;\n}\n",nt=e=>{const{feedbackType:t,width:n,onSubmitFeedback:a,wrapperStyles:s,arrowStyles:o,wrapperAttributes:r,setWrapperElement:i,setArrowElement:c,closeModal:l}=e,[h,p]=(0,u.useState)(""),g=(0,u.useRef)(null);function f(e){a(t,h),e?.preventDefault()}(0,L.t$)(g,(()=>l()));const b="positive"===t?"What did you like about the generated code?":"What was the issue with the generated code? How could it improve?",y="negative"===t?"static-anaconda-assistant-negative":"";return m().createElement("div",{ref:i,style:{...s,width:"100%",marginBottom:6,boxSizing:"border-box",padding:"0 20px"},...r},m().createElement(x,{asChildName:"feedback-modal","data-testid":"feedback-modal",className:y,style:{width:n}},m().createElement("div",{ref:g},m().createElement(E,{asChildName:"style"},tt),m().createElement(x,{asChildName:"header"},m().createElement(x,{asChildName:"icon"},"positive"===t?m().createElement(d.ThumbsUp,null):m().createElement(d.ThumbsDown,null)),m().createElement(x,{asChildName:"title"},"Provide additional feedback")),m().createElement(et,{onSubmit:f,asChildName:"form"},m().createElement(x,{asChildName:"text-area",className:y},m().createElement("textarea",{autoFocus:!0,disabled:!1,maxLength:200,value:h,onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||f(e)},onChange:e=>p(e.target.value),rows:3,placeholder:b})),m().createElement(x,{asChildName:"button-container"},m().createElement(C,{type:"submit","data-testid":"submit-button",asChildName:"submit-button",className:y},"Submit"))))),m().createElement("div",{id:"static-anaconda-assistant-modal-arrow",className:y,ref:c,style:{...o,transform:"none",right:("negative"===t?32:62)+"px",left:"auto"}}))};function at(e){const{parentName:t,childName:n,childrenStyle:a,replaceChildren:s}=e;return{parentClassName:t,replaceChildren:e=>{let o=()=>null;return a&&(o=function(e,t,n){const a=`${f}-${e}-${t}-style`.replace("style-style","style");return function(s){return s===a?m().createElement("style",{className:s},n.replaceAll(`${f}-${t}`,`${f}-${e}-${t}`)):null}}(t,n,a)),s?.(e)||o(e)||null}}}const st="\n.anaconda-assistant-feedback-button-icon {\n  cursor: pointer;\n  padding: 8px;\n}\n\n.anaconda-assistant-feedback-button-icon svg {\n  width: 20px;\n  height: 20px;\n  color: #abb1bf;\n}\n\n.anaconda-assistant-feedback-button-icon svg:hover {\n  color: #6a718a;\n}\n",ot=e=>{const{open:t,setOpenFeedbackType:n,icon:a,tooltipTitle:s,feedbackType:o,modalWidth:r,onSubmitFeedback:i}=e,[c,l]=(0,u.useState)(null),[d,h]=(0,u.useState)(null),[p,f]=(0,u.useState)(null),{styles:b,attributes:C}=(0,Qe.D)(d,p,{placement:"top",modifiers:[{name:"arrow",options:{element:c}}]}),{replaceChildren:y}=m().useContext(g);return m().createElement(x,{asChildName:"feedback-button"},m().createElement(E,{asChildName:"style"},st),m().createElement("div",{ref:h,"data-testid":"feedback-button-clickable",onClick:function(){n(t?void 0:o)}},m().createElement(x,{asChildName:"icon"},m().createElement(x,{asChildName:"tooltip","data-testid":"feedback-button-tooltip","data-tooltip-id":`feedback-button-tooltip-${o}`,"data-tooltip-content":s},a)),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:`feedback-button-tooltip-${o}`,place:"bottom"})),t&&m().createElement(g.Provider,{value:at({parentName:"feedback-button",childName:"feedback-modal",childrenStyle:tt,replaceChildren:y})},m().createElement(nt,{feedbackType:o,width:r,onSubmitFeedback:i,wrapperStyles:b.popper,arrowStyles:b.arrow,wrapperAttributes:C.popper,setWrapperElement:f,setArrowElement:l,closeModal:()=>n(void 0)})))},rt=e=>{const{modalWidth:t,onSubmitFeedback:n}=e,[a,s]=(0,u.useState)();return m().createElement(m().Fragment,null,m().createElement(ot,{open:"positive"===a,setOpenFeedbackType:s,tooltipTitle:"I liked this response",icon:m().createElement(d.ThumbsUp,null),feedbackType:"positive",modalWidth:t,onSubmitFeedback:n}),m().createElement(ot,{open:"negative"===a,setOpenFeedbackType:s,tooltipTitle:"I didn't like this response",icon:m().createElement(d.ThumbsDown,null),feedbackType:"negative",modalWidth:t,onSubmitFeedback:n}))},it="\n.anaconda-assistant-message-buttons {\n  display: flex;\n  align-items: center;\n  margin: 16px 0 0;\n  width: 100%;\n}\n\n.anaconda-assistant-message-buttons svg {\n  color: #abb1bf;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n}\n\n.anaconda-assistant-message-buttons svg:hover {\n  color: #6a718a;\n}\n\n.anaconda-assistant-message-buttons-thumbs-icons {\n  display: flex;\n  flex-grow: 1;\n  justify-content: flex-end;\n}\n\n.anaconda-assistant-message-buttons-delete-button {\n  flex-grow: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n",ct=e=>{const{canDelete:t,canExport:n,canSubmitFeedback:a,message:s,modalWidth:o,exportMessage:r,deleteMessagesAfterId:i,handleFeedback:c}=e,{replaceChildren:l}=m().useContext(g),u=s;if(a&&!c)throw new Error("handleFeedback must be provided if canSubmitFeedback is true");let h=null;const p=a&&c;return p&&(h=u.feedback?m().createElement(m().Fragment,null,a&&m().createElement(Xe,{direction:"up",selected:"positive"===u.feedback.sentiment}),a&&m().createElement(Xe,{direction:"down",selected:"negative"===u.feedback.sentiment})):m().createElement(m().Fragment,null,a&&m().createElement(rt,{modalWidth:o,onSubmitFeedback:c}))),m().createElement(x,{asChildName:"message-buttons",style:e.style},m().createElement(E,{asChildName:"style"},it),n&&m().createElement(m().Fragment,null,m().createElement(x,{asChildName:"export-button"},m().createElement(x,{asChildName:"export-icon","data-testid":"export-icon","data-tooltip-id":"export-tooltip","data-tooltip-content":`Export and run this message in the ${(0,F.startCase)(Be().clientContextType)}`,onClick:()=>r(s)},m().createElement(d.Book,null))),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"export-tooltip",place:"top"})),t&&m().createElement(m().Fragment,null,m().createElement(x,{asChildName:"delete-button"},m().createElement(x,{asChildName:"delete-icon","data-testid":"delete-icon","data-tooltip-id":"delete-tooltip","data-tooltip-content":"Delete this and all messages below",onClick:()=>i(s.messageId)},m().createElement(d.Trash,null))),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"delete-tooltip",place:"top"})),p&&m().createElement(x,{asChildName:"thumbs-icons"},m().createElement(g.Provider,{value:at({parentName:"message-buttons",childName:u.feedback?"completed-thumbs":"feedback-button",childrenStyle:u.feedback?Ye:st,replaceChildren:l})},h)))},lt=e=>{const{message:t,isInitialMessage:n,exportMessage:a,deleteMessagesAfterId:s,handleFeedback:o}=e,{replaceChildren:r}=m().useContext(g);return m().createElement(m().Fragment,null,m().createElement(x,{asChildName:"user-message"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-user-message {\n  display: flex;\n  flex-direction: column;\n  background: #e9e6fe;\n  border-radius: 8px;\n  color: #2C303A;\n  font-family: Inter;\n  font-size: 15px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 20px;\n}\n\n.anaconda-assistant-user-message-message-container {\n  display: flex;\n  padding: 12px;\n  flex-direction: row;\n  align-items: center;\n\n}\n\n.anaconda-assistant-user-message-message-container-icon {\n  display: flex;\n  width: 28px;\n  height: 24px;\n  color: #6c5af6;\n}\n\n.anaconda-assistant-user-message-message-container-message-text {\n  word-break: break-word;\n  white-space: pre-wrap;\n  margin-left: 10px;\n}\n"),m().createElement(x,{asChildName:"message-container"},m().createElement(x,{asChildName:"icon"},m().createElement(d.UserPrompt,null)),m().createElement(x,{asChildName:"message-text"},t.content))),!n&&m().createElement(g.Provider,{value:at({parentName:"user-message",childName:"message-buttons",childrenStyle:it,replaceChildren:r})},m().createElement(ct,{canDelete:!0,canExport:!0,message:t,exportMessage:a,deleteMessagesAfterId:s,handleFeedback:o})))},dt=e=>{const{width:t,error:n,hidePopups:a,enableDataCollection:s,makeChatRequest:o,resetToHomeScreen:r,setCellError:i}=e,[c,l]=m().useState(!1);return(0,u.useEffect)((()=>{l(!a&&!!n)}),[n,a]),m().createElement(m().Fragment,null,m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-popup-container-buttons-button {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 3px;\n  border-radius: 8px;\n  padding: 9px 12px 9px 12px;\n  cursor: pointer;\n}\n\n"),m().createElement(k,{width:t,show:c,headerTitle:"Anaconda Assistant",warningMessage:`By debugging the active code cell, the error tied to the active code cell, and the\n                  code of the active code cell will be sent to\n                  ${s?"the Anaconda Servers and to ":""}\n                  OpenAI.`,bodyTitle:"Start a new conversation",body:m().createElement(x,{asChildName:"button",onClick:()=>function(e){r(),o({context:{type:"debug-error",variables:{error_cell_code:e?.cell.source,error_output:e?.errorText}},instruction:""}),i(null)}(n)},m().createElement(x,{asChildName:"title"},"Debug the active code cell"),m().createElement(x,{asChildName:"icon"},m().createElement(d.ChevronRight,null))),dialogClosed:function(){i(null)}}))},ut=e=>{const{width:t,enableDataCollection:n,error:a,hidePopups:s,selectedText:o,makeChatRequest:r,resetToHomeScreen:i}=e,[c,l]=m().useState(!1);function h(e,t){i(),r({context:{type:t,variables:{active_cell_code:e?.cell.source,selected_code:e?.text}},instruction:""}),l(!1)}return(0,u.useEffect)((()=>{const e=Boolean(o?.text&&null===a);l(!s&&e)}),[o,a,s]),m().createElement(m().Fragment,null,m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-popup-container-buttons-button {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 3px;\n  border-radius: 8px;\n  padding: 9px 12px 9px 12px;\n  cursor: pointer;\n}\n"),m().createElement(k,{width:t,show:c,headerTitle:"Anaconda Assistant",warningMessage:`By adding code to a conversation, the selected code cell will be sent to\n                  ${n?"the Anaconda Servers and to ":""}\n                  OpenAI.`,bodyTitle:"Start a new conversation",body:m().createElement(m().Fragment,null,m().createElement(x,{asChildName:"button",onClick:()=>h(o,"explain-code")},m().createElement(x,{asChildName:"title"},"Explain the selected code"),m().createElement(x,{asChildName:"icon"},m().createElement(d.ChevronRight,null))),m().createElement(x,{asChildName:"button",onClick:()=>h(o,"comment-code")},m().createElement(x,{asChildName:"title"},"Add comments to the selected code"),m().createElement(x,{asChildName:"icon"},m().createElement(d.ChevronRight,null))),m().createElement(x,{asChildName:"button",onClick:()=>h(o,"improve-code")},m().createElement(x,{asChildName:"title"},"Refactor the selected code"),m().createElement(x,{asChildName:"icon"},m().createElement(d.ChevronRight,null)))),dialogClosed:function(){l(!1)}}))},mt="attachment://",ht="DataFrame.dtypes>>>",pt="File>>>";function gt(e,t){return`${mt}In a brief sentence, acknowledge you have received the following dataframe information: \`${ht} ${e}.dtypes\` outputs:\n\`\`\`\n${t.map((e=>`${e[0]} ${e[1]}`)).join("\n")}\n\`\`\``}function ft(e,t,n){return`${mt}<active-notebook>\n\`${pt} ${e}\`\npath:${t}\nsummary:\n\`\`\`\n${n}\n\`\`\`\n</active-notebook>`}function bt(e){const t=e.match(/`DataFrame.dtypes>>> (.*)`/),n=e.match(/`File>>> (.*)`/);return t?`Attached the column names and types of dataframe ${t[1].split(".")[0]}: \`${t[1]}\`.`:n?`Attached the file ${n[1]}.`:e}const Ct=/\n?``` ?(python)?\n?/gms;function xt(e){const t=e.matchAll(Ct),n=[];let a=0,s="text";for(const o of t)if(void 0!==o.index&&-1!==o.index){const t=e.substring(a,o.index);n.push({type:s,content:t}),a=o.index+o[0].length,s="text"===s?"python"===o[1]?"python":"output":"text"}return a<e.length&&n.push({type:s,content:e.substring(a)}),n.filter((e=>""!==e.content))}function yt(e,t,n){const a=[];switch(e.type){case"graph-dataframe":case"describe-dataframe":a.push(`dataframe ${e.variables.dataframe.name}`);break;case"explain-code":case"comment-code":case"improve-code":e.variables.selected_code&&a.push("selected code");break;case"debug-error":e.variables.error_cell_code&&a.push("error cell"),e.variables.error_output&&a.push(`error output: ${(0,F.truncate)(e.variables.error_output,{length:100})}`);break;case"suggestions-chat":e.variables.code_cell&&a.push("active code cell"),e.variables.name&&a.push(`dataframe ${e.variables.name}`);break;default:if(t.startsWith(mt))return"";{const e=(0,F.startCase)(Be().clientContextType);a.push(n?`${e} ${n}`:`no context from ${e}`)}}return 0===a.length?"":1===a.length?a[0]:`${a.slice(0,-1).join(", ")} and ${a.slice(-1)}`}function wt(e,t=15565){let n=Array.prototype.slice.call(e.messages);if(!e.summary)return n;const a=Math.ceil((e.summary?.summary.length||0)/3),s=e.tokens+a-t;if(s>0){let e=0,t=s;for(let a=0;a<n.length;a++){const s=n[a];if(!(t>0))break;t-=s.tokens||Math.ceil(s.content.length/3),e++}n=n.slice(e)}return n}const vt="ASSISTANT_ERROR";class Et extends Error{name=vt;status;type;constructor(e,t,n){super(t),this.status=n,this.type=e}}var kt=n(8473);const St=e=>{const{buttonLabel:t,contextType:n,onSubmit:a,makeChatRequest:s,dataFrames:o,enableDataCollection:r}=e;if("assistant-suggestions"===n&&!a)throw new Error("onSubmit is required for assistant-suggestions");let i=()=>{};return n&&"assistant-suggestions"!==n&&(i=e=>{s({context:{type:n,variables:{dataframe:e}},instruction:""})}),o?m().createElement(Nt,{dataframes:o,submit:a||i,buttonLabel:t,enableDataCollection:r}):null},Nt=e=>{const{dataframes:t,submit:n,buttonLabel:a}=e,[s,o]=(0,u.useState)(null);return m().createElement(x,{asChildName:"dataframe-selector"},m().createElement(E,{asChildName:"style"},"\n[class^='anaconda-assistant-'][class$='-dataframe-selector-select'] {\n  margin: 0;\n  box-sizing: border-box;\n  appearance: none;\n  background-color: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  display: inline-block;\n  font: inherit;\n  font-size: 13px;\n  height: 40px;\n  line-height: 1em;\n  padding: 0.5em 3.5em 0.5em 1em;\n  background-image: linear-gradient(45deg, transparent 50%, gray 50%),\n    linear-gradient(135deg, gray 50%, transparent 50%), linear-gradient(to right, #ccc, #ccc);\n  background-position:\n    calc(100% - 20px) calc(1em + 4px),\n    calc(100% - 15px) calc(1em + 4px),\n    calc(100% - 2.5em) 9px;\n  background-size:\n    5px 5px,\n    5px 5px,\n    1px 20px;\n  background-repeat: no-repeat;\n  width: 100%;\n}\n\n[class^='anaconda-assistant-'][class$='-dataframe-selector-select']:invalid {\n  color: gray;\n}\n\n[class^='anaconda-assistant-'][class$='-dataframe-selector-button'] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.35em 1.2em;\n  border: 0.1em solid #ffffff;\n  margin-top: 16px;\n  height: 40px;\n  border-radius: 4px;\n  box-sizing: border-box;\n  text-decoration: none;\n  font-size: 13px;\n  font-weight: 300;\n  color: #06262d;\n  text-align: center;\n  transition: all 0.5s;\n  background: #0cca4a;\n  width: 100%;\n}\n\n[class^='anaconda-assistant-'][class$='-dataframe-selector-button'].disabled {\n  background: #bdbdbd;\n}\n\n[class^='anaconda-assistant-'][class$='-dataframe-selector-button']:hover {\n  background-color: #4fab4f;\n  cursor: pointer;\n}\n\n[class^='anaconda-assistant-'][class$='-dataframe-selector-button']:hover.disabled {\n  cursor: not-allowed;\n  background: #bdbdbd;\n}\n\n[class^='anaconda-assistant-'][class$='-dataframe-selector-button-icon'] {\n  width: 16px;\n  height: 16px;\n  margin-right: 10px;\n}\n"),m().createElement(N,{"data-testid":"dataframe-select",required:!0,asChildName:"select",value:s?.name||"",onChange:e=>function(e){const n=t.find((t=>t.name===e));n&&o(n)}(e.currentTarget.value)},m().createElement(S,{asChildName:"option",value:"",disabled:!0,defaultValue:"Select",hidden:!0},"Select"),t.map((e=>m().createElement(S,{asChildName:"option",key:e.hash,value:e.name},e.name)))),s&&m().createElement(C,{"data-testid":"dataframe-selector-button",asChildName:"button",onClick:function(){s&&n(s)}},m().createElement(x,{asChildName:"icon"},m().createElement(d.MagicWand,null)),a||"Select Dataframe"))},_t=e=>{const{width:t,onAddContext:n,dataFrames:a,activeChatAvailable:s,setAttachContextOpen:o,attachContextOpen:r,makeChatRequest:i,enableDataCollection:c}=e;return(0,u.useEffect)((()=>{a?.length||o(!1)}),[a,o]),m().createElement(k,{width:t,show:r,headerTitle:"Anaconda Assistant",warningMessage:`By attaching a dataframe to the conversation, the dataframe column names and types will be\n                  sent to ${c?"the Anaconda Servers and to ":""}\n                  OpenAI.`,bodyTitle:"Select Dataframe",body:m().createElement(St,{makeChatRequest:i,dataFrames:a,buttonLabel:s?"Attach dataframe to current chat":"Attach dataframe to new chat",onSubmit:e=>{o(!1);const t=gt(e.name,e.cols);n(t)}}),dialogClosed:function(){o(!1)}})},Tt=e=>{const{contextType:t,onSubmit:n,dataFrames:a,makeChatRequest:s,enableDataCollection:o}=e;let{buttonLabel:r}=e;return!r&&t&&(r={"graph-dataframe":"Get Code","describe-dataframe":"Describe Dataframe","assistant-suggestions":"Generate suggestions"}[t]),m().createElement(x,{asChildName:"selectContext"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-selectContext {\n  margin: 20px;\n}\n\n.anaconda-assistant-selectContext-warning {\n  margin-bottom: 20px;\n  color: #757575;\n  background: #fcfccc;\n  padding: 10px;\n  font-size: 11px;\n  border-radius: 4px;\n  border: 1px solid #ebebbe;\n  display: flex;\n}\n\n.anaconda-assistant-selectContext-warning-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 12px 0 3px;\n}\n\n.anaconda-assistant-selectContext-warning-container-icon {\n  width: 23px;\n  color: #ffba0a;\n}\n\n.anaconda-assistant-selectContext-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  padding-bottom: 15px;\n}\n\n.anaconda-assistant-selectContext-buttons-wrapper {\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  font-weight: 590;\n  letter-spacing: 0.02em;\n}\n\n.anaconda-assistant-selectContext-buttons-wrapper-container {\n  width: 26px;\n  height: 26px;\n  background: rgba(0, 178, 255, 0.1);\n  border-radius: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 10px;\n}\n\n.anaconda-assistant-selectContext-buttons-wrapper-container-icon {\n  width: 13px;\n  color: #00b2ff;\n}\n"),m().createElement(x,{asChildName:"warning"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"icon"},m().createElement(d.Warning,null))),m().createElement(x,{asChildName:"message"},`By attaching a dataframe to the conversation, the dataframe column names and types will be\n                  sent to ${o?"the Anaconda Servers and to ":""}\n                  OpenAI.`)),m().createElement(x,{asChildName:"buttons"},m().createElement(x,{asChildName:"wrapper"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"icon"},m().createElement(d.Code,null))),m().createElement(x,{asChildName:"title"},"Select Dataframe")),m().createElement(St,{contextType:t,makeChatRequest:s,dataFrames:a,buttonLabel:r,onSubmit:n})))},Lt=e=>{const{content:t}=e;return m().createElement(m().Fragment,null,m().createElement(E,{asChildName:"style"},"\n[class^='anaconda-assistant-'][class$='-text-block'] {\n  font-size: 15px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 20px;\n  white-space: pre-wrap;\n  word-break: break-word;\n  margin-top: 16px;\n}\n"),m().createElement(x,{asChildName:"text-block"},t))};var At=n(573);const Dt=e=>{const{block:t,messageId:n,runCode:a,responseContainsPythonBlocks:s,selectedText:o,activeChatSession:r}=e,[i,c]=(0,u.useState)(!1),[l,h]=(0,u.useState)(!1),[p,g]=(0,u.useState)(!1),f=a&&(!s||"python"===t.type);return m().createElement(m().Fragment,null,m().createElement(E,{asChildName:"code-block-style"},"\n.anaconda-assistant-code-buttons {\n  display: flex;\n  justify-content: flex-end;\n  min-height: 16px;\n  margin-bottom: 8px;\n  gap: 10px;\n}\n\n[class^='anaconda-assistant-code-buttons-'][class$='-button'],\n[class^='anaconda-assistant-code-buttons-'][class$='-disabled'],\n[class^='anaconda-assistant-code-buttons-'][class$='-clicked'] {\n  border: none;\n  background: transparent;\n  color: #6c5af6;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  font-family: 'Inter', sans-serif;\n  font-size: 13px;\n  font-weight: 400;\n  font-style: normal;\n  padding: 8px;\n  cursor: pointer;\n  display: flex;\n  height: fit-content;\n}\n\n[class^='anaconda-assistant-code-buttons-'][class$='-disabled'] {\n  color: #c9c2fa;\n  cursor: not-allowed;\n}\n\n[class^='anaconda-assistant-code-buttons-'][class$='-button']:hover {\n  background: #e5e8eb;\n}\n\n[class^='anaconda-assistant-code-buttons-'][class$='-icon'] {\n  width: 20px;\n  height: 20px;\n}\n"),m().createElement(x,{asChildName:"code-block"},m().createElement(At.ZP,{...At.lG,code:t.content,language:"python"},(({className:e,style:t,tokens:n,getLineProps:a,getTokenProps:s})=>m().createElement("pre",{className:e,style:{...t,padding:"12px 10px 12px",marginBottom:8,overflowX:"scroll",borderRadius:4}},n.map(((e,t)=>m().createElement("div",{...a({line:e,key:t})},e.map(((e,t)=>m().createElement("span",{...s({token:e,key:t})})))))))))),f&&m().createElement(x,{asChildName:"code-buttons"},m().createElement(C,{asChildName:"run-button"+(i?"-clicked":""),"data-tooltip-id":"anaconda-assistant-code-run-button","data-tooltip-content":`Run code in ${(0,F.startCase)(Be().clientContextType)}`,"data-testid":"run-button",onClick:()=>{return e=t.content,c(!0),setTimeout((()=>c(!1)),750),void(r&&a&&a(e,n,r));var e}},m().createElement(x,{asChildName:"icon"},m().createElement(d.Play,null)),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"anaconda-assistant-code-run-button",place:"bottom"})),m().createElement(C,{disabled:!o,asChildName:`replace-button${l?"-clicked":""}${o?"":"-disabled"}`,"data-tooltip-id":"anaconda-assistant-code-replace-button","data-tooltip-content":"Replace selection","data-tooltip-hidden":!o,"data-testid":"replace-button",onClick:()=>{return e=t.content,h(!0),setTimeout((()=>h(!1)),750),void(r&&a&&a(e,n,r,!0));var e}},m().createElement(x,{asChildName:"icon"},m().createElement(d.MagicWand,null)),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"anaconda-assistant-code-replace-button",place:"bottom"})),m().createElement(C,{asChildName:"copy-button"+(p?"-clicked":""),"data-tooltip-id":"anaconda-assistant-code-copy-button","data-tooltip-content":"Copy","data-testid":"copy-button",onClick:()=>{return e=t.content,g(!0),setTimeout((()=>g(!1)),750),void navigator.clipboard.writeText(e);var e}},m().createElement(x,{asChildName:"icon"},m().createElement(d.Copy,null)),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:"anaconda-assistant-code-copy-button",place:"bottom"}))))},Mt=e=>{const{message:t,runCode:n,selectedText:a,activeChatSession:s}=e,o=xt(t.content),r=t.messageId||t.message_id;return m().createElement(m().Fragment,null,o.map(((e,t)=>"text"===e.type?m().createElement(Lt,{key:t,content:e.content}):m().createElement(Dt,{key:t,block:e,runCode:n,responseContainsPythonBlocks:o.some((e=>"python"===e.type)),messageId:r,selectedText:a,activeChatSession:s}))))},Rt=e=>{const{response:t,selectedText:n,activeChatSession:a,scrollFn:s}=e;return(0,u.useEffect)((()=>{s()}),[t,s]),t?m().createElement(x,{asChildName:"active-message"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-active-message {\n  margin-bottom: 16px;\n}\n\n.anaconda-assistant-active-message-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 16px;\n}\n\n.anaconda-assistant-active-message-loading-icon {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  color: #4fab4f;\n}\n\n.anaconda-assistant-active-message-loading-animation {\n  font-size: 13px;\n  font-weight: lighter;\n  font-style: normal;\n}\n\n.anaconda-assistant-active-message-loading-animation:after {\n  overflow: hidden;\n  display: inline-block;\n  vertical-align: bottom;\n  -webkit-animation: ellipsis steps(4, end) 1200ms infinite;\n  -moz-animation: ellipsis steps(4, end) 1200ms infinite;\n  -ms-animation: ellipsis steps(4, end) 1200ms infinite;\n  animation: ellipsis steps(4, end) 1200ms infinite;\n  content: '...';\n  width: 0;\n}\n"),m().createElement(x,{asChildName:"loading"},m().createElement(x,{asChildName:"icon"},m().createElement(d.Magic,null)),m().createElement(x,{asChildName:"animation"})),""!==t.content&&m().createElement(Mt,{message:t,selectedText:n,activeChatSession:a})):null},It=e=>{const{assistantMessage:t,runCode:n,selectedText:a,activeChatSession:s,handleFeedback:o,handleExportMessage:r,handleDeleteMessageAfterId:i}=e;return m().createElement(m().Fragment,null,m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-completed-message-response {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 16px;\n}\n\n.anaconda-assistant-completed-message-response-icon {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  color: #4fab4f;\n}\n"),m().createElement(x,{asChildName:"completed-message-response"},m().createElement(x,{asChildName:"icon"},m().createElement(d.Magic,null))),""!==t.content&&m().createElement(Mt,{message:t,runCode:n,selectedText:a,activeChatSession:s}),m().createElement(ct,{style:{marginBottom:"16px"},canSubmitFeedback:!0,canExport:!0,message:t,handleFeedback:(e,n)=>{o(t.messageId,e,n)},exportMessage:r,deleteMessagesAfterId:i}))},Pt=e=>{const{errorMessage:t,showLogoutButton:n,isProTier:a,resetChat:s,retryError:o,logout:r}=e,i=[{match:/org_blacklisted/,className:"",hideChatTitle:!0,message:m().createElement(m().Fragment,null,"Your organization does not have access to the Anaconda Assistant. Please"," ",m().createElement("a",{href:"https://www.anaconda.com/contact",target:"_blank",rel:"noopener noreferrer"},"contact sales")," ","to request access."),messageIcon:m().createElement(d.Error,null),buttonIcon:m().createElement(d.RotateLeft,null),buttonText:"Retry Request",onClick:o},{match:/Too many requests/,className:"upgrade",hideChatTitle:!0,message:a?"You have reached the maximum number of requests for today.":"You have reached the maximum number of requests for today. Upgrade to increase the number of daily requests.",messageIcon:m().createElement(d.ChatBot,null),buttonIcon:a?null:m().createElement(d.Sparkle,null),buttonText:"Upgrade",onClick:()=>{window.open("https://anaconda.cloud/pricing")}},{match:/maximum context length/,className:"token-limit",hideChatTitle:!0,message:m().createElement("p",null,'You’ve exceeded the maximum context length. You can always press the "',m().createElement("a",{className:"token-limit-restart-button","data-testid":"token-limit-restart-button",onClick:e=>{e.preventDefault(),s&&s()}},m().createElement(d.RotateRight,null),"Restart"),'" button at the bottom to restart the conversation and reset the context-length.',a?null:m().createElement(m().Fragment,null,m().createElement("br",null),m().createElement("br",null),"Visit our"," ",m().createElement("a",{href:"https://anaconda.cloud/pricing",target:"_blank",rel:"noopener noreferrer"},"pricing page")," ","to upgrade to either Starter or Pro, to use a model with a larger context-window.")),messageIcon:m().createElement(d.ChatBot,null),buttonIcon:a?null:m().createElement(d.Sparkle,null),buttonText:"Upgrade",onClick:()=>{window.open("https://anaconda.cloud/pricing")}}],c={className:"",chatTitle:"Something went wrong...",message:t,messageIcon:m().createElement(d.Error,null),buttonIcon:m().createElement(d.RotateLeft,null),buttonText:"Retry Request",onClick:o},l=i.find((e=>e.match&&t.match(e.match)))||c;return m().createElement(x,{asChildName:"error-message",className:l.className},m().createElement(E,{asChildName:"error-message-style"},"\n.anaconda-assistant-error-message {\n  margin: 16px 0;\n}\n\n.anaconda-assistant-error-message-header {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 16px 0;\n}\n\n.anaconda-assistant-error-message-header-icon {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  color: #4fab4f;\n  margin-right: 10px;\n}\n\n.anaconda-assistant-error-message-header-title {\n  font-size: 13px;\n  font-weight: lighter;\n  font-style: normal;\n}\n\n.anaconda-assistant-error-message-panel {\n  margin-bottom: 20px;\n  border-radius: 4px;\n  background: #fef1f1;\n  display: flex;\n  padding: 16px;\n}\n\n.anaconda-assistant-error-message-panel-icon {\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  min-height: 16px;\n  color: #f44336;\n  margin-right: 8px;\n}\n\n.anaconda-assistant-error-message-panel-text {\n  font-size: 13px;\n  font-style: normal;\n  color: #2C303A;\n}\n\n.anaconda-assistant-error-message-footer {\n  display: flex;\n}\n\n.anaconda-assistant-error-message-footer-button {\n  display: flex;\n  border: none;\n  background: #3d3d3d;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  font-size: 13px;\n  font-weight: lighter;\n  font-style: normal;\n  padding: 8px;\n  margin-right: 8px;\n  color: white;\n  cursor: pointer;\n}\n\n.anaconda-assistant-error-message-footer-icon {\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n}\n\n.anaconda-assistant-error-message-panel-text a {\n  color: #6c5af6;\n  text-decoration: underline;\n}\n\n.token-limit .anaconda-assistant-error-message-panel,\n.upgrade .anaconda-assistant-error-message-panel {\n  background: #43b04985;\n}\n\n.token-limit .anaconda-assistant-error-message-panel-text,\n.upgrade .anaconda-assistant-error-message-panel-text {\n  margin-left: 10px;\n  font-size: 13px;\n}\n\n.upgrade .anaconda-assistant-error-message-panel-icon,\n.token-limit .anaconda-assistant-error-message-panel-icon {\n  color: #31a824;\n}\n\n.token-limit .token-limit-restart-button svg {\n  width: 12px;\n  margin-right: 4px;\n}\n\n.token-limit .anaconda-assistant-error-message-footer-retry-button,\n.upgrade .anaconda-assistant-error-message-footer-retry-button {\n  background: #4fab4f;\n  color: white;\n  font-size: 16px;\n  margin-right: 20px;\n  margin-bottom: 40px;\n}\n\n.token-limit .anaconda-assistant-error-message-footer-retry-button:hover,\n.upgrade .anaconda-assistant-error-message-footer-retry-button:hover {\n  background: #0cca4a;\n  color: #06262d;\n}\n"),l.hideChatTitle?null:m().createElement(x,{asChildName:"header"},m().createElement(x,{asChildName:"icon"},m().createElement(d.ChatBot,null)),m().createElement(x,{asChildName:"title"},l.chatTitle)),m().createElement(x,{asChildName:"panel"},m().createElement(x,{asChildName:"icon"},l.messageIcon),m().createElement(x,{asChildName:"text"},l.message)),m().createElement(x,{asChildName:"footer"},l.buttonIcon?m().createElement(C,{asChildName:"button","data-testid":"error-message-action-button",onClick:()=>l.onClick()},m().createElement(x,{asChildName:"icon"},l.buttonIcon),m().createElement(x,{asChildName:"text"},l.buttonText)):null,n?m().createElement(C,{asChildName:"button",onClick:()=>r?r():null},m().createElement(x,{asChildName:"text"},m().createElement("span",null,"Logout"))):null))};var Ft=n(7503),Vt=n(8396);const Ot="\n.anaconda-assistant-terms {\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  color: var(--as-main-font-color, #52596b);\n}\n\n.anaconda-assistant-terms-age-confirmation-header,\n.anaconda-assistant-terms-accept-terms-header,\n.anaconda-assistant-terms-data-collection-header {\n  font-weight: 600;\n  color: var(--as-main-font-color, #2c303a);\n}\n\n.anaconda-assistant-terms-accept-terms-header {\n  margin-bottom: 10px;\n}\n\n.anaconda-assistant-terms-data-collection-header span {\n  font-weight: 400;\n}\n\n.anaconda-assistant-terms-data-collection-setting,\n.anaconda-assistant-terms-accept-terms-setting {\n  align-items: center;\n  display: flex;\n}\n\n.anaconda-assistant-terms-accept-terms-content a {\n  color: #6c5af6;\n}\n\n.anaconda-assistant-terms-age-confirmation-setting {\n  align-items: center;\n  display: flex;\n  margin: 0 -10px;\n}\n\n.anaconda-assistant-terms-age-confirmation-setting\n.anaconda-assistant-terms-age-confirmation-setting-switch span {\n   color: var(--as-main-font-color-secondary, #2c303a);\n}\n\n.anaconda-assistant-terms-age-confirmation-setting\n.anaconda-assistant-terms-age-confirmation-setting-switch\nspan.Mui-checked, span.MuiCheckbox-indeterminate {\n  color: #43B049;\n}\n\n.anaconda-assistant-terms-data-collection-setting-switch\n.MuiSwitch-root .MuiSwitch-track  {\n  background-color: var(--as-main-disabled-color, #000);\n}\n\n.anaconda-assistant-terms-data-collection-setting-switch\n.Mui-checked  {\n  color: var(--primary, #0cca4a);\n}\n\n.anaconda-assistant-terms-data-collection-setting-switch\n.MuiSwitch-root.MuiSwitch-sizeMedium .MuiSwitch-track {\n  background-color: #43B049;\n}\n\n.anaconda-assistant-terms-data-collection-setting-description-disabled {\n  color: var(--as-main-disabled-color, #8c94a6);\n}\n\n.anaconda-assistant-terms-data-collection-content {\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n}\n\n.anaconda-assistant-terms-data-collection-content p svg {\n  color: var(--as-main-disabled-color, #8b94a6);\n  height: 18px;\n}\n\n.anaconda-assistant-terms-accept-terms-button {\n  border-radius: 4px;\n  border: 1px solid var(--primary, #0cca4a);\n  background: #0cca4a;\n  color: #06262d;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n  display: inline-flex;\n  padding: 8px 14px;\n  justify-content: center;\n  align-items: center;\n}\n\n.anaconda-assistant-terms-accept-terms-button:disabled {\n  background-color: rgba(67, 176, 73, 0.50);\n  border: none;\n  color: var(--as-main-bg-color-primary, #fff);\n  cursor: default;\n}\n\n.anaconda-assistant-terms-accept-terms-button:hover:enabled {\n  color: var(--as-main-font-color-black, #000);\n  cursor: pointer;\n  background: #4fab4f;\n  border: 1px solid #4fab4f;\n}\n";function $t(e){const{accept:t,enableDataCollection:n,setEnableDataCollection:a,olderThan13:s,setOlderThan13:o}=e;return m().createElement(x,{asChildName:"terms"},m().createElement(E,{asChildName:"style"},Ot),m().createElement(x,{asChildName:"accept-terms"},m().createElement(x,{asChildName:"header"},"Terms and Conditions"),m().createElement(x,{asChildName:"content"},"By clicking the ",m().createElement("strong",null,"continue")," button, you agree to our"," ",m().createElement("a",{href:"https://legal.anaconda.com/policies/en/?name=offering-specific-terms#anaconda-assistant-terms-and-conditions",target:"_blank"},"Terms and Conditions")," ","and"," ",m().createElement("a",{href:"https://www.anaconda.com/privacy-policy",target:"_blank"},"Privacy Policy"),".")),m().createElement(x,{asChildName:"age-confirmation"},m().createElement(x,{asChildName:"header"},"Confirm Your Age"),m().createElement(x,{asChildName:"setting"},m().createElement(x,{asChildName:"switch"},m().createElement(Ft.Z,{checked:s,onChange:(e,t)=>o(t)})),m().createElement(x,{asChildName:"description"},"I hereby confirm that I'm older than 13 years old."))),m().createElement(x,{asChildName:"data-collection"},m().createElement(x,{asChildName:"header"},"Data Collection ",m().createElement("span",null,"(Optional)")),m().createElement(x,{asChildName:"setting"},m().createElement(x,{asChildName:"switch"},m().createElement(Vt.Z,{checked:n,onChange:(e,t)=>a(t)})),m().createElement(x,{asChildName:"description"+(n?"":"-disabled")},n?"Enabled":"Not enabled")),m().createElement(x,{asChildName:"content"},m().createElement("p",null,"Help us improve the Anaconda Assistant. Enabling data collection means you acknowledge and agree that we can collect messages and metadata, including sensitive information that may be in your conversations with Anaconda Assistant."),m().createElement("p",null,"You can opt out of this at any time in the ",m().createElement(d.Settings,null)," settings menu."))),m().createElement(x,{asChildName:"accept-terms"},m().createElement(C,{asChildName:"button",disabled:!s,onClick:()=>{s&&t()}},"Continue")))}const Bt="\n.anaconda-assistant-terms-page {\n  --text-color: var(--as-main-font-color, #2c303a);\n  --text-color-secondary: var(--as-main-font-color, #52596b);\n  font-family: 'Inter', sans-serif;\n  font-family: Inter;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  padding: 16px;\n  color: var(--text-color);\n  overflow: auto;\n  margin: 19px 24px 0 24px;\n}\n\n.anaconda-assistant-terms-page-branding {\n  background: var(--as-main-bg-color-secondary, #fff);\n  display: flex;\n}\n\n.anaconda-assistant-terms-page-branding-content {\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n}\n\n.anaconda-assistant-terms-page-branding-content-header h1 {\n  font-size: 24px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n  margin: 3px 0;\n}\n\n.anaconda-assistant-terms-page-branding-content-header p {\n  line-height: 24px;\n  margin: 0;\n  color: var(--text-color-secondary);\n}\n\n.anaconda-assistant-terms-page-branding-icon {\n  margin-right: 9px;\n}\n\n.anaconda-assistant-terms-page-branding-icon svg {\n  width: 30px;\n}\n";function Ht(e){const{accept:t,enableDataCollection:n,setEnableDataCollection:a,olderThan13:s,setOlderThan13:o}=e,{replaceChildren:r}=m().useContext(g);return m().createElement(x,{asChildName:"terms-page"},m().createElement(E,{asChildName:"style"},Bt),m().createElement(x,{asChildName:"branding"},m().createElement(x,{asChildName:"content"},m().createElement(x,{asChildName:"header"},m().createElement("h1",null,"Agree to use Assistant"),m().createElement("p",null,"Anaconda Assistant is an AI-powered chat application designed to enhance the productivity of data scientists, developers, and researchers.")),m().createElement(g.Provider,{value:at({parentName:"terms-page",childName:"terms",childrenStyle:Ot,replaceChildren:r})},m().createElement($t,{accept:t,enableDataCollection:n,setEnableDataCollection:a,olderThan13:s,setOlderThan13:o})))))}const zt="\n.anaconda-assistant-settings-page {\n  --text-color: var(--as-main-font-color, #2c303a);\n  --text-color-header-secondary: var(--as-main-font-color-secondary, #6a718a);\n  font-family: 'Inter', sans-serif;\n  font-family: Inter;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  padding: 16px;\n  overflow-y: auto;\n  color: var(--text-color);\n  height: 100%;\n}\n\n.anaconda-assistant-settings-page-section-title {\n  color: var(--text-color-header-secondary);\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n}\n\n.anaconda-assistant-settings-page-logout-control-title,\n.anaconda-assistant-settings-page-upgrade-control-title,\n.anaconda-assistant-settings-page-data-collection-control-container-title,\n.anaconda-assistant-settings-page-run-code-control-container-title {\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n}\n\n.anaconda-assistant-settings-page-logout-control-container,\n.anaconda-assistant-settings-page-data-collection-control-container,\n.anaconda-assistant-settings-page-run-code-control-container,\n.anaconda-assistant-settings-page-upgrade-control-container {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin: 20px 0;\n}\n\n.anaconda-assistant-settings-page-logout-control-container-description,\n.anaconda-assistant-settings-page-upgrade-control-container-description {\n    max-width: 100%;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description-account {\n  display: flex;\n  gap: 20px;\n  align-items: center;\n}\n\n.anaconda-assistant-settings-page-logout-control-container-action-logout-button {\n  border-radius: 4px;\n  border: 1px solid var(--primary, #0cca4a);\n  background: #0cca4a;\n  color: #06262d;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n  display: inline-flex;\n  padding: 8px 14px;\n  justify-content: center;\n  align-items: center;\n}\n\n.anaconda-assistant-settings-page-logout-control-container-action-logout-button:disabled {\n  background-color: rgba(67, 176, 73, 0.50);\n  border: none;\n  color: #fff;\n  cursor: default;\n}\n\n.anaconda-assistant-settings-page-logout-control-container-action-logout-button:hover:enabled {\n  color: black;\n  cursor: pointer;\n  background: #4fab4f;\n  border: 1px solid #4fab4f;\n}\n\n.anaconda-assistant-settings-page-data-collection-control-container-description,\n.anaconda-assistant-settings-page-run-code-control-container-description {\n  max-width: 77%;\n}\n\n.anaconda-assistant-settings-page-run-code-control-container-description a {\n  color: #6c5af6;\n  text-decoration: underline;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description {\n  flex-grow: 1;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description svg {\n  width: 12px;\n  margin-right: 4px;\n  display: inline-block;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description-upgrade-button {\n  align-items: center;\n  background: #4fab4f;\n  border-radius: 4px;\n  border: none;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  font-size: 16px;\n  font-style: normal;\n  justify-content: center;\n  margin-bottom: 5px;\n  margin-top: 15px;\n  margin-left: auto;\n  margin-right: 20px;\n  padding: 8px;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description-upgrade-button:hover {\n  background: #0cca4a;\n  color: #06262d;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description a {\n  color: #6c5af6;\n  text-decoration: underline;\n}\n\n.anaconda-assistant-settings-page-data-collection-control-container-action,\n.anaconda-assistant-settings-page-data-collection-control-container-action-disabled {\n  align-items: center;\n  display: flex;\n  gap: 10px;\n}\n\n.anaconda-assistant-settings-page-data-collection-control-container-action\n.Mui-checked  {\n  color: var(--primary, #0cca4a);\n\n}\n\n.anaconda-assistant-settings-page-data-collection-control-container-action\n.MuiSwitch-root.MuiSwitch-sizeMedium .MuiSwitch-track {\n  background-color: #43B049;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description-account-link a {\n  color: #0cca4a;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description-account-link a:hover {\n  color: #337234;\n}\n\n.anaconda-assistant-settings-page-upgrade-control-container-description-account-link svg {\n  width: 16px;\n  margin-left: 10px;\n}\n",Ut={"below-active-cell":"Below active cell","at-end-of-notebook":"At end of the notebook","in-place":"In the active cell"};function qt(e){const{showLogout:t,enableDataCollection:n,setEnableDataCollection:a,addCodeToNotebook:s,setAddCodeToNotebook:o,isProTier:r,isStarterTier:i,isCloudNotebooks:c}=e,l=t?t():null,u=Object.entries(Ut).map((([e,t])=>({value:e,label:t.replace("notebook",Be().clientContextType)})));let h="Free",p="In the local version",g=m().createElement(m().Fragment,null,"30 responses for free, and will need to"," ",m().createElement("a",{"data-testid":"upgrade-link",href:"https://anaconda.cloud/pricing",target:"_blank"},"upgrade")," ","to continue using the Assistant");c&&(p="In the cloud version",g="60 responses per day the first week, then 30 responses per day afterwards");let f=4096;return r?(h="Pro",g="120 responses per day",f=16384):i&&(h="Starter",g="60 responses per day"),m().createElement(x,{asChildName:"settings-page"},m().createElement(E,{asChildName:"style"},zt),m().createElement(x,{asChildName:"section-title"},"My Account"),t&&l?m().createElement(x,{asChildName:"logout-control"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"description"},"You're currently logged in as: ",m().createElement("b",null,l.accountUserEmail),"."),m().createElement(x,{asChildName:"action"},m().createElement(C,{asChildName:"logout-button",onClick:()=>l.logout()},"Logout")))):null,m().createElement(x,{asChildName:"upgrade-control"},m().createElement(x,{asChildName:"title"},"Account tier limits"),m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"description"},m().createElement(x,{asChildName:"account"},m().createElement("span",null,"Your account tier is ",m().createElement("b",null,h),"."),m().createElement(x,{asChildName:"link"},m().createElement("a",{target:"blank",href:"https://anaconda.cloud/profile/account-settings"},"View your account",m().createElement(d.ExternalLink,null)))),m().createElement("br",null),m().createElement("span",{"data-testid":"client-version-type"},p)," of the Anaconda Assistant, you can receive"," ",m().createElement("span",{"data-testid":"messages-allowed"},g),".",m().createElement("br",null),m().createElement("br",null),m().createElement("span",{"data-testid":"context-limit"},"Your current context limit is ",f||4096," tokens."),r?m().createElement("span",{"data-testid":"infinite-chat"}," ","You're on the Pro tier, so your chats will seem infinite. Be aware that the longer you continue any chat, the less accurate it will become. See our"," ",m().createElement("a",{href:"https://docs.anaconda.com/free/anaconda-notebooks/anaconda-assistant/#course-correcting-the-conversation",target:"_blank"},"Assistant documentation")," ","for more information."):null,m().createElement("br",null),m().createElement("br",null),r?null:m().createElement(m().Fragment,null,"If you reach this limit during one of your chats, you can create a new chat by clicking the ",m().createElement(d.NewChat,null)," icon at the top of the chat window.",m().createElement("br",null),m().createElement("br",null),"Visit our"," ",m().createElement("a",{"data-testid":"pricing-link",href:"https://anaconda.cloud/pricing",target:"_blank",rel:"noopener noreferrer"},"pricing page")," ","to upgrade to a higher tier to increase the number of daily responses allowed or to use a model with a larger context-window.",m().createElement(C,{"data-testid":"upgrade-button",asChildName:"upgrade-button",onClick:()=>{window.open("https://anaconda.cloud/pricing")}},m().createElement(x,{asChildName:"upgrade-icon"},m().createElement(d.Sparkle,null)),m().createElement(x,{asChildName:"text"},"Upgrade")))))),m().createElement(x,{asChildName:"section-title"},"Settings"),m().createElement(x,{asChildName:"data-collection-control"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"title"},"Data collection and usage"),m().createElement(x,{asChildName:"action"},m().createElement(Vt.Z,{checked:n,onChange:(e,t)=>a(t)}),m().createElement("div",null,n?"Enabled":"Not enabled"))),m().createElement(x,{asChildName:"description"},"Enable data and usage collection by Anaconda, including chat messages. This setting only affects the data Anaconda stores. It does not affect the data that is sent to OpenAI.")),m().createElement(x,{asChildName:"run-code-control"},m().createElement(x,{asChildName:"container"},m().createElement(x,{asChildName:"title"},"Run code in ",(0,F.startCase)(Be().clientContextType)),m().createElement(x,{asChildName:"action"},m().createElement(_,{defaultSelection:u.find((e=>e.value===s)),options:u,selectionChanged:e=>o(e.value)}))),m().createElement(x,{asChildName:"description"},"When you run code in the Assistant, the code first gets added to your"," ",Be().clientContextType," before it is executed. You can choose where the code gets added here.")))}const Zt=e=>{const{chats:t,activeChat:n,setActiveChat:a,deleteChat:s,closeHistory:o}=e,[r,i]=(0,u.useState)(""),[c,l]=(0,u.useState)(t),h=[{value:"desc",label:"Most Recent"},{value:"asc",label:"Oldest"}],[p,g]=(0,u.useState)(h[0]);return(0,u.useEffect)((()=>{const e=(0,F.orderBy)(t,["lastUpdated"],[p.value]);l(e.filter((e=>e.name.toLowerCase().includes(r.toLowerCase()))))}),[t,r,p]),m().createElement(x,{asChildName:"history-page"},m().createElement(E,{asChildName:"style"},"\n  .anaconda-assistant-history-page {\n    font-family: 'Inter', sans-serif;\n    font-family: Inter;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 20px;\n    color: var(--as-main-font-color, #2c303a);\n\n    overflow-y: scroll;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    padding: 16px;\n  }\n\n  .anaconda-assistant-history-page-title {\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: 24px;\n    margin-bottom: 8px;\n  }\n\n  .anaconda-assistant-history-page-no-chats {\n    height: calc(100% - 100px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    color: var(--as-main-disabled-color:, #2121214d);\n  }\n\n  .anaconda-assistant-history-page-search {\n    display: flex;\n    border-radius: 4px;\n    border: 1px solid var(--as-border-color-secondary, #8c94a6);\n    padding: 7px 12px;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n\n  .anaconda-assistant-history-page-search input {\n    border: none;\n    margin: 0 7px 0 0;\n    padding: 0;\n    flex: 1;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: 20px;\n    outline: none;\n    color: var(--as-main-font-color-black, #000);\n    background: none;\n  }\n\n  .anaconda-assistant-history-page-sort {\n    display: flex;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 600;\n    line-height: 20px;\n    margin: 0 0 8px 8px;\n    align-items: center;\n  }\n\n  .anaconda-assistant-history-page-sort label {\n    margin-right: 8px;\n  }\n\n  .anaconda-assistant-history-page-list {\n    display: flex;\n    flex-direction: column;\n  }\n\n\n  .anaconda-assistant-history-page-list-item,\n  .anaconda-assistant-history-page-list-item-active\n  {\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    padding: 8px;\n    margin-bottom: 8px;\n    color: #6a718a;\n  }\n\n  .anaconda-assistant-history-page-list-item-active {\n    background: #f3f4f6;\n    color: #6c5af6;\n  }\n\n  .anaconda-assistant-history-page-list-item:hover,\n  .anaconda-assistant-history-page-list-item-active:hover {\n    background: #f3f4f6;\n    color: #6c5af6;\n    cursor: pointer;\n  }\n\n  .anaconda-assistant-history-page-list-item-icon,\n  .anaconda-assistant-history-page-list-item-active-icon {\n    display: flex;\n    align-items: center;\n  }\n\n  .anaconda-assistant-history-page-list-item-icon svg,\n  .anaconda-assistant-history-page-list-item-active-icon svg {\n    width: 22px;\n    margin-right: 4px;\n    color: #6c5af6;\n  }\n\n  .anaconda-assistant-history-page-list-item-text,\n  .anaconda-assistant-history-page-list-item-active-text {\n    overflow: hidden;\n    font-size: 15px;\n    font-style: normal;\n    font-weight: 600;\n    line-height: 20px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  .anaconda-assistant-history-page-list-item-close-icon,\n  .anaconda-assistant-history-page-list-item-active-close-icon {\n    height: 13px;\n    color: #6a718a;\n    cursor: pointer;\n    display: none;\n    margin-left: auto;\n  }\n\n  .anaconda-assistant-history-page-list-item-close-icon svg,\n  .anaconda-assistant-history-page-list-item-active-close-icon svg {\n    width: 10px;\n  }\n\n  .anaconda-assistant-history-page-list-item:hover .anaconda-assistant-history-page-list-item-close-icon,\n  .anaconda-assistant-history-page-list-item-active:hover .anaconda-assistant-history-page-list-item-active-close-icon {\n    display: block;\n  }\n  "),m().createElement(x,{asChildName:"title"},"Chat History"),0===t.length&&m().createElement(x,{asChildName:"no-chats"},"No Previous Chats"),t.length>0&&m().createElement(m().Fragment,null,m().createElement(x,{asChildName:"search"},m().createElement("input",{type:"text",role:"searchbox",onChange:e=>{i(e.target.value)}}),m().createElement(d.Search,null)),m().createElement(x,{asChildName:"sort"},m().createElement("label",null,"Sort by: "),m().createElement(_,{className:"as-history-sort-dropdown",options:h,selectionChanged:e=>{g(e)}})),m().createElement(x,{asChildName:"list"},c.map((e=>m().createElement(x,{key:e.key,role:"listitem",asChildName:"item"+(e.key===n?.key?"-active":""),title:e.name,onClick:()=>function(e){if(!n||n.key!==e){const s=t.find((t=>t.key===e));n?.name===s?.name&&a(null),a(e)}o()}(e.key)},m().createElement(x,{asChildName:"icon"},m().createElement(d.UserPrompt,null)),m().createElement(x,{asChildName:"text"},e.name),e.key===n?.key?null:m().createElement(m().Fragment,null,m().createElement(x,{"data-tooltip-id":`delete-tooltip-${e.key}`,"data-tooltip-content":"Delete chat","data-testid":`delete-tooltip-${e.key}`,asChildName:"close-icon",onClick:t=>{t.stopPropagation(),s(e.key)}},m().createElement(d.Close,null),m().createElement(D.u,{className:"anaconda-assistant-tooltip",id:`delete-tooltip-${e.key}`,place:"top"})))))))))},jt=e=>{const{label:t,instruction:n,submit:a}=e;return m().createElement(x,{mainContainer:!0,asChildName:"code-option",onClick:()=>a(n??"")},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-code-option {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 8px 0;\n  border-radius: 8px;\n  border: 1px solid #8c94a6;\n  padding: 8px 8px 8px 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 20px;\n}\n\n.anaconda-assistant-code-option:hover {\n  border-color: var(--as-border-color-secondary, #abb1bf);\n  background-color: var(--as-background-hover, #f3f4f6);\n}\n\n.anaconda-assistant-code-option-icon {\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid var(--as-border-color-secondary, #8c94a6);\n  display: flex;\n  align-items: center;\n  width: 36px;\n  height: 36px;\n  box-sizing: border-box;\n}\n\n.anaconda-assistant-code-option-icon svg {\n  width: 20px;\n  height: 20px;\n  color: #8c94a6;\n}\n\n.anaconda-assistant-code-option:hover .anaconda-assistant-code-option-icon svg {\n  color: white;\n}\n\n.anaconda-assistant-code-option:hover .anaconda-assistant-code-option-icon {\n  background: #0cca4a;\n  color: #fff;\n}\n"),m().createElement(x,{asChildName:"label"},t),m().createElement(x,{asChildName:"icon"},m().createElement(d.Send,null)))},Wt=e=>{const{chatStarters:t,setChatStarter:n,makeChatRequest:a}=e;return t?m().createElement(x,{mainContainer:!0,asChildName:"select-chat-starter"},m().createElement(E,{asChildName:"style"},"\n.anaconda-asistant-select-chat-starter {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.anaconda-asistant-select-chat-starter-section {\n  margin-bottom: 56px;\n}\n\n.anaconda-asistant-select-chat-starter-section h4 {\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  padding: 0 0 0 12px;\n  margin: 0;\n}\n"),t.categories.map(((e,t)=>m().createElement(m().Fragment,{key:t},!e.doNotDisplay&&m().createElement(x,{asChildName:"section"},m().createElement("h4",null,e.label),e.starters.map(((e,t)=>m().createElement(m().Fragment,{key:t},!e.doNotDisplay&&m().createElement(jt,{label:e.label,submit:()=>e.instruction?a({context:{type:"default-python",variables:{}},instruction:e.instruction}):n(e)}))))))))):null},Kt=e=>{const{suggestionState:t,defaultDataFrame:n,chatStarterName:a,getActiveCodeCell:s,makeChatRequest:o,updateSuggestions:r,setSuggestionsDataframe:i,isProTier:c,resetActiveChat:l,showLogoutButton:d,logout:h}=e,{loading:p,suggestions:g,dataframe:f,error:b}=t??{loading:!1,suggestions:null,dataframe:null,error:null};(0,u.useEffect)((()=>{null!==g||p||b||r(s(),a,f||n)}),[a,f,n,s,p,b,g,r]);const C=n||f;function y(e){o({context:{type:"suggestions-chat",variables:{code_cell:s(),name:C?.name||"",dtypes_str:C?.dtypesStr||""}},instruction:e})}function w(){p||i(null)}const v="data-cleaning-suggestions"===a;return b?m().createElement(Pt,{errorMessage:b,retryError:w,showLogoutButton:d,isProTier:c,resetChat:l,logout:h}):m().createElement(x,{mainContainer:!0,asChildName:"code-options"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-code-options {\n  margin-bottom: 56px;\n}\n\n.anaconda-assistant-code-options-header {\n  display: flex;\n  align-items: center;\n}\n\n.anaconda-assistant-code-options-header h4 {\n  flex: 1;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  padding: 0 0 0 12px;\n  margin: 0;\n}\n\n.anaconda-assistant-code-options-header-loading:after {\n  overflow: hidden;\n  display: inline-block;\n  vertical-align: bottom;\n  -webkit-animation: ellipsis steps(4, end) 1200ms infinite;\n  animation: ellipsis steps(4, end) 1200ms infinite;\n  content: '...';\n  width: 0;\n}\n\n.anaconda-assistant-code-options-header-refresh {\n  color: #6c5af6;\n  cursor: pointer;\n  margin-right: 12px;\n}\n\n.anaconda-assistant-code-options-header-refresh.disabled {\n  color: rgb(56, 116, 203, 0.5);\n  cursor: not-allowed;\n}\n"),m().createElement(x,{asChildName:"header"},p?m().createElement("h4",{className:"anaconda-assistant-code-options-header-loading"}," ","Fetching suggestions for"," ",v?"data cleaning":`this ${Be().clientContextType}`):m().createElement("h4",null,C?`Some ideas to ${v?"clean":"make use of"} dataframe ${C.name}`:"What would you like to do?"),m().createElement(x,{onClick:w,asChildName:"refresh",className:p?"disabled":""},"Refresh Suggestions")),!p&&g&&g.map(((e,t)=>m().createElement(jt,{key:t,label:e,instruction:e,submit:y}))))},Gt=e=>{const{dataFrames:t,makeChatRequest:n,onSubmit:a,buttonLabel:s,enableDataCollection:o,activeNotebook:r,suggestionState:i,chatStarterName:c,getActiveCodeCell:l,updateSuggestions:d,setSuggestionsDataframe:u,isProTier:h,resetActiveChat:p,showLogoutButton:g,logout:f,suggestionDataFrame:b}=e;return!b&&t?m().createElement(Tt,{dataFrames:t,makeChatRequest:n,contextType:"assistant-suggestions",buttonLabel:s,onSubmit:a,enableDataCollection:o}):r?m().createElement(Kt,{suggestionState:i,defaultDataFrame:null,chatStarterName:c,getActiveCodeCell:l,makeChatRequest:n,updateSuggestions:d,setSuggestionsDataframe:u,isProTier:h,resetActiveChat:p,showLogoutButton:g,logout:f}):null},Jt=e=>{const{options:t,makeChatRequest:n}=e;function a(e){n({context:{type:"default-python",variables:{}},instruction:e})}return m().createElement(x,{mainContainer:!0,asChildName:"load-dataframe"},m().createElement(E,{asChildName:"style"},"\n.anaconda-assistant-load-dataframe {\n  margin-bottom: 56px;\n}\n\n.anaconda-assistant-load-dataframe h4 {\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  padding: 0 0 0 12px;\n  margin: 0;\n}\n"),m().createElement("h4",null,"What would you like to do?"),t?.map(((e,t)=>m().createElement(jt,{key:t,label:e.label,instruction:e.instruction,submit:a}))))},Yt=e=>{const{chatStarters:t,selectedChatStarter:n,selectChatStarter:a,makeChatRequest:s,getActiveCodeCell:o,dataFrames:r,enableDataCollection:i,activeNotebook:c,suggestionState:l,updateSuggestions:d,setSuggestionsDataframe:u,isProTier:h,resetActiveChat:p,showLogoutButton:g,logout:f,suggestionDataFrame:b}=e;return c?null===n?m().createElement(m().Fragment,null,m().createElement(E,{asChildName:"style"},"\n\n.anaconda-assistant-home-screen-header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 44px;\n}\n\n.anaconda-assistant-home-screen-header h3 {\n  margin: 0 0 24px;\n  font-size: 24px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 23px;\n}\n\n.anaconda-assistant-home-screen-header p {\n  text-align: center;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 24px;\n  max-width: 375px;\n  margin: 0 0 32px;\n}\n"),m().createElement(x,{asChildName:"home-screen-header"},m().createElement("h3",null,"What would you like to do?"),m().createElement("p",null,"The Anaconda Assistant is an AI-powered chat application designed to enhance the productivity of data scientists, developers, and researchers.")),m().createElement(Wt,{chatStarters:t,setChatStarter:a,makeChatRequest:s})):n.suggestions?m().createElement(Jt,{options:n.suggestions,makeChatRequest:s}):n.generateSuggestions&&n.suggestionsType?m().createElement(Gt,{chatStarterName:n.suggestionsType,buttonLabel:n.buttonLabel,getActiveCodeCell:o,dataFrames:r,makeChatRequest:s,onSubmit:u,enableDataCollection:i,activeNotebook:c,suggestionState:l,updateSuggestions:d,setSuggestionsDataframe:u,isProTier:h,resetActiveChat:p,showLogoutButton:g,logout:f,suggestionDataFrame:b}):n.contextSelectionRequired?m().createElement(Tt,{contextType:n.contextType,buttonLabel:n.buttonLabel,makeChatRequest:s,enableDataCollection:i,dataFrames:r}):null:null},Xt=["below-active-cell","at-end-of-notebook","in-place"];function Qt(e){const t=[mt];return e.map((e=>{const n=t.reduce(((e,t)=>e.replace(t,"")),e.content);return{...e,content:n}}))}function en(e){return"active"===e?.type}function tn(e){const t=function(e){switch(e.type){case"graph-dataframe":case"describe-dataframe":return{name:e.variables.dataframe.name,dtypes_str:e.variables.dataframe.dtypesStr};case"explain-code":case"comment-code":case"improve-code":return{active_code_cell:e.variables.active_cell_code,selected_code:e.variables.selected_code};case"debug-error":case"suggestions-chat":default:return e.variables;case"default-python":return{}}}(e);return{type:e.type,variables:t}}var nn=n(3431);function an(){const[e,t,n]=Ze((e=>[H(e),Y(e),e.gotoPreviousChat]));return e?m().createElement(m().Fragment,null,m().createElement("div",{className:"as-back-button-container"},m().createElement(nn.Z,{title:"Resume previous chat"},m().createElement("div",{className:"as-back-button-icon",onClick:n},m().createElement(d.ChevronLeft,null))),m().createElement("div",{className:"as-back-button-title-container"},m().createElement("div",{className:"as-back-button-title"},"Resume previous chat: ",t)))):null}function sn(){try{return l.getCoreReady().config.assistant.environmentType}catch(e){return console.error("Error getting environment type",e),"local-notebooks-dev"}}function on(){return"local-dev"===sn()}function rn(){return"local-notebooks-prod"===sn()||"local-notebooks-dev"===sn()}function cn(){return"cloud-notebooks-prod"===sn()||"cloud-notebooks-staging"===sn()}function ln(){return"enterprise-notebooks-prod"===sn()||"enterprise-notebooks-dev"===sn()}var dn=n(8671);const un="aext_assistant_server",mn="4.0.15",hn=4096,pn=!0;let gn=null;function fn(){return gn||(gn=(async()=>{if(on())return"http://localhost:8000";const e=l.getFeatureFlagBool("assistant-use-dev-api-endpoint");return console.log("[Assistant] Using dev server because of LD feature flag:",e),e?"https://jupyterassistant.anacondaconnect.com":l.getCoreReady().config.assistant.apiUrl||"https://assistant.anaconda.cloud"})()),gn}const bn="https://anaconda.cloud/api",Cn=`https://${"undefined"==typeof window?"anaconda.cloud":window.location.host.replace(/^nb\./,"")}/api`,xn="https://nucleus-latest.anacondaconnect.com/api";async function yn(e="",t={}){const n=p.ServerConnection.makeSettings(),a=dn.URLExt.join(n.baseUrl,un,e);let s;try{s=await p.ServerConnection.makeRequest(a,t,n)}catch(e){throw new p.ServerConnection.NetworkError(e)}let o=await s.text();if(o.length>0)try{o=JSON.parse(o)}catch(e){console.error(e)}if(!s.ok)throw new p.ServerConnection.ResponseError(s,o.message||o);return o}let wn=null;function vn(){if(wn)return wn;if("undefined"==typeof document)return{};const e=document.cookie.split(";"),t={};for(let n=0;n<e.length;n++){const a=e[n].split("=");t[(a[0]+"").trim()]=unescape(a.slice(1).join("="))}return wn=t,t}let En=null;const kn=[{unavailable:!1,getUrl:()=>`${bn}/iam/token`,getOptions:()=>({method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token"})})},{unavailable:!1,getUrl:()=>`${Cn}/iam/token`,getOptions:()=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token",refresh_token:vn().refresh_token})})},{unavailable:!1,getUrl:()=>`${xn}/iam/token`,getOptions:()=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token",refresh_token:vn().refresh_token})})}];let Sn=null;function Nn(e){return Sn||(Sn=(async()=>{const t=await yn(e);return null===t.access_token?null:{accessToken:t.access_token,expiresAt:t.expires_at}})(),Sn)}function _n(){Sn=null}async function Tn(e=0){if(on())return null;if(rn())return Nn("nucleus_token");if(ln())return Nn("ae5_nucleus_token");if(e>2)throw new Error("The access token expires_at is causing a loop");En||(En=async function(){let e=null;for(const t of kn)if(!t.unavailable){console.log("[Assistant] Trying to get access token from",t.getUrl());try{if(e=await fetch(t.getUrl(),t.getOptions()),200===e.status)break}catch(e){console.error(e),t.unavailable=!0}}if(!e||200!==e.status)throw new Error("Unable to get access token");const{access_token:t,expires_in:n}=await async function(e){if(!e.ok)try{const t=await e.text();return Promise.reject(`Failed with status ${e.status} and body ${t}`)}catch(t){return Promise.reject(`Failed with status ${e.status}`)}return e.json()}(e),a=new Date;return a.setSeconds(a.getSeconds()+n),{token:t,expires:a}}());const t=await En;return new Date>=t.expires?(En=null,Tn(e++)):{accessToken:t.token,expiresAt:t.expires.getTime()}}let Ln,An=null;function Dn(){return ln()?Promise.resolve({metadata:{is_starter_tier:!1,is_pro_tier:!0,is_enterprise_tier:!0},profile:{is_confirmed:!0,is_disabled:!1},subscriptions:[],user:{id:"0",company:"Anaconda Enterprise",company_size:"none",country:null,created_at:"0",email:"Anaconda Enterprise",external_id:void 0,first_home_visit:!1,first_name:void 0,last_name:void 0,industry:void 0,partner_customer_id:void 0,partner_id:void 0,position:void 0,promotional_content:void 0,state:"TX",updated_at:"0"}}):An||(An=(async()=>{const e=await Tn();if(!e)throw new Error("No access token");const t=await yn("nucleus_user",{headers:{"X-Nucleus-Token":e.accessToken}}),n=await async function(e){if(e.remote_status_code<200||e.remote_status_code>=300)throw new Error(`Failed with status ${e.remote_status_code} and body ${e.remote_data}`);return e.remote_data}(t),a=function(e){if(!e)return!1;const t=e.subscriptions;return!!t.length&&t.map((e=>e.product_code)).some((e=>e===Un))}(n),s=Zn(n);return{...n,metadata:{is_starter_tier:a,is_pro_tier:s}}})(),An)}function Mn(){An=null}function Rn(){if(!Ln)throw new Error("Assistant not initialized");return Ln}async function In(){try{return await Rn().fetchTermsAndConditionsVersion()}catch(e){throw new Et("network_error","There was an issue connecting to the Assistant server. Please try again.",0)}}const Pn=[];const Fn=e=>{const t={categories:[{id:"tutorial",label:"Get started",starters:[{name:"load-volcano-data",label:"Load volcano data from the Smithsonian Institute",instruction:"Load 'https://gist.githubusercontent.com/mattkram/9684863843254402942dfede27af2cb7/raw/2590dd8185b833aacf247c0595edbb07a025a6d7/Smithsonian_VOTW_Holocene_Volcanoes.csv' in a code block. Use `pd.read_csv` and show the first 10 rows"},{name:"plot-fibonacci",label:"Plot the first 100 Fibonacci numbers",instruction:"Plot the first 100 fibonacci numbers"},{name:"mask-emails",label:"Create a function to mask emails",instruction:ln()?"Create a Python function called `mask_email` that takes an email address as input and returns a masked version of the email. The function should:\n\n1. Replace the local part of the email (before the '@' symbol) with '[MASKED]', while keeping the domain part (after the '@' symbol) unchanged.\n2. Ensure the masked email maintains the same format as a standard email address.\n3. Include error handling to manage invalid email formats gracefully, returning a message indicating the input is not a valid email.\n\nPlease provide the complete function code, along with at least 3 example function calls demonstrating the function with valid email addresses, an invalid email address, and an email address with a unique domain.":"Create a function to mask email addresses, show examples"}]},{id:"dataframes",label:"Working with dataframes",starters:[{name:"load-a-dataframe",label:"Load a DataFrame",suggestions:[{label:"Generate a DataFrame with random data",instruction:"Generate code that creates a DataFrame with random data"},{label:"Load 2023 NCAA Basketball Results",instruction:"Generate a DataFrame from this url - 'https://raw.githubusercontent.com/bbwieland/ncaa-projections/main/data/KenPomGamesCleaned.csv' and show the first 10 rows"},{label:"Load 2023 NCAA Basketball Team Ratings",instruction:"Generate a DataFrame from this url - 'https://raw.githubusercontent.com/bbwieland/ncaa-projections/main/data/TeamRatings.csv' and show the first 10 rows"},{label:"(FiveThirtyEight) Which US state has the worst drivers?",instruction:"Generate a DataFrame from this url - 'https://raw.githubusercontent.com/fivethirtyeight/data/master/bad-drivers/bad-drivers.csv' and show the first 10 rows."},{label:"(FiveThirtyEight) Where do people go to check the weather?",instruction:"Generate a DataFrame from this url - 'https://raw.githubusercontent.com/fivethirtyeight/data/master/weather-check/weather-check.csv' and show the first 10 rows."},{label:"(FiveThirtyEight) District Urbanization Index 2022",instruction:"Generate a DataFrame from this url - 'https://raw.githubusercontent.com/fivethirtyeight/data/master/district-urbanization-index-2022/urbanization-index-2022.csv' and show the first 10 rows."},{label:"Load the US Wind Turbine Database from usgs.gov",instruction:"Generate a DataFrame from this url - 'https://gist.githubusercontent.com/mattkram/5078f1cb198694274cb708253b0dc210/raw/f90167d071abe328f7f437f3d68dbd5deb6012c8/uswtdb_v5_3_20230113.csv"},{label:"Load volcano data from the Smithsonian Institute",instruction:"Load 'https://gist.githubusercontent.com/mattkram/9684863843254402942dfede27af2cb7/raw/2590dd8185b833aacf247c0595edbb07a025a6d7/Smithsonian_VOTW_Holocene_Volcanoes.csv' in a code block. Use `pd.read_csv` and show the first 10 rows"},{label:"Load US population estimates (2010-2019) from census.gov",instruction:"Generate a DataFrame from this url - 'https://gist.githubusercontent.com/mattkram/d3880a3a23ca36ccf10f22c1f49adb29/raw/e3dbe9bde709604252f291e1df92ffa7b3bd098f/nst-est2020.csv' and show the first 10 rows."},{label:"Load US population estimates (2020-2022) from census.gov",instruction:"Generate a DataFrame from this url - 'https://gist.githubusercontent.com/mattkram/d3880a3a23ca36ccf10f22c1f49adb29/raw/f4602d2b9a17eb0d17355897264f4bad80c5528f/NST-EST2022-POPCHG2020_2022.csv' and show the first 10 rows."},{label:"Load Pittsburgh bike-share rides data",instruction:"Generate a DataFrame from this url - 'https://gist.github.com/mattkram/16ff06942c100c00466ea5022567bdaa/raw/386da24f5ede4e70496cde1dc9e98c9d02bb177e/bikeshare.csv' and show the first 10 rows."}]},{name:"describe-dataframe",label:"Describe the data in a DataFrame",doNotDisplay:e,buttonLabel:"Describe Dataframe",contextSelectionRequired:!0,contextType:"describe-dataframe"},{name:"graph-dataframe",label:"Generate a graph for data in a DataFrame",doNotDisplay:e,buttonLabel:"Get Code",contextSelectionRequired:!0,contextType:"graph-dataframe"}]}]};return ln()||t.categories.find((e=>"dataframes"===e.id))?.starters.push({name:"data-cleaning-suggestions",label:"Suggestions for cleaning data",doNotDisplay:e,buttonLabel:"Generate cleaning suggestions",contextSelectionRequired:!0,suggestionsType:"data-cleaning-suggestions",generateSuggestions:!0},{name:"dataframe-suggestions",label:"More suggestions...",doNotDisplay:e,buttonLabel:"Generate suggestions",contextSelectionRequired:!0,suggestionsType:"dataframe-suggestions",generateSuggestions:!0}),t};let Vn=null;function On(e){return Vn=(async()=>{if(Vn&&await Vn,!await async function(){try{const e=await Tn();if(!e)throw new Error("No access token");const t=Rn();return t.accessToken.setAccessToken(e),await t.fetchAccess(),!0}catch(e){console.log("Error fetching access: ",e)}return!1}())return console.log("The user is not allowed to use our API."),void Ze.getState().setAccess(!1);try{await Ze.getState().updateAccount()}catch(e){console.log("Unable to pre-load account. The user is not logged in")}var t;await(t=Fn(!0),new Promise((async(e,n)=>{try{const n=await async function(e,t){const n=await yn("get_disk_state"),a=Boolean(n&&"object"==typeof n),s=Boolean(a&&n.state&&"object"==typeof n.state),o=Boolean(a&&n.version&&"number"==typeof n.version),r=Boolean(a&&n.version&&n.version===ze);return a&&s&&o&&r?function(e,t,n){let a=e.settings?.addCodeToNotebook;a&&Xt.includes(a)||(a=t.settings?.addCodeToNotebook);let s=[];if(e.notebooks)for(const t of e.notebooks){if("string"!=typeof t.path)continue;if(!t.path)continue;if(!t.chats)continue;const e={};for(const n of Object.values(t.chats))"string"==typeof n.key&&"string"==typeof n.name&&(Pn.includes(n.key)?Pn.splice(Pn.indexOf(n.key),1):e[n.key]={...n,lastUpdated:new Date(n.lastUpdated||0)});s.push({path:t.path,notebookState:{dataframes:[],selectedCell:null,selectedText:null,error:null},homeScreen:{chatStarters:n,selectedChatStarter:null},suggestionState:{loading:!1,suggestions:null,dataframe:null,error:null},chats:e,activeChatKey:null,previousChatKey:null})}return{terms:{accepted:Boolean(e.terms?.accepted||t.terms?.accepted),version:e.terms?.version||t.terms?.version||null},notebooks:s,settings:{open:Boolean(e.settings?.open),enableDataCollection:Boolean(e.settings?.enableDataCollection),addCodeToNotebook:a}}}(n.state,e,t):null}(Ze.getState(),t);if(!n)return Ze.getState()?.terms?.accepted?(console.log("No state found on disk and locally the Assistant is already loaded. Logging out."),await jn(["An Assistant in another Jupyter Lab session or browser tab logged out.","Do you want to log out as well?","Logging out will remove all your Anaconda Assistant data,","but if you decide to stay some features will not be available."].join(" ")),void e(void 0)):(console.log("No state found on disk. Skipping state update."),void e(void 0));let a=null;try{a=await In()}catch(e){console.error("Error fetching terms and conditions version",e)}a||(console.log("No terms and conditions version found. The user is not allowed to use our API."),Ze.getState()?.setAccess(!1));const s=n.terms?.version||Ze.getState()?.terms?.version||a;!Ze.getState()?.terms?.accepted&&n.terms?.accepted&&s&&(console.log("Terms and conditions accepted on disk. Accepting them locally."),Ze.getState()?.acceptTerms(s,!0));for(const e of n.notebooks||[]){const t=Object.values(e.chats);console.log(`Syncing ${t.length} chats to ${e.path}`),Ze.getState()?.addSyncedChats(e,t)}e(void 0)}catch(e){console.error("Error updating state from disk",e),n(e)}}))),await async function(e){const t=await Tn();if(!t)return void console.log("Could not sync state, no access token");const n=Ze.getState(),a={...n,terms:{accepted:!1,version:n.terms?.version||null}};(!0===n.terms?.accepted||e)&&(a.terms.accepted=!0),yn("sync_disk_state",{headers:{"X-Nucleus-Token":t.accessToken},method:"POST",body:JSON.stringify({state:a,version:ze})})}(e),Vn=null})(),Vn}function $n(){On()}function Bn(){window.addEventListener("blur",$n),window.addEventListener("focus",$n)}function Hn(){try{window.removeEventListener("blur",$n),window.removeEventListener("focus",$n)}catch(e){console.log("Error unbinding syncDiskStateChained",e)}}const zn=["commercial_subscription","security_subscription","enterprise_subscription"],Un="starter_subscription";async function qn(e){return ln()||e?.metadata?.is_enterprise_tier||e?.metadata?.is_pro_tier||Zn(e)?16384:4096}function Zn(e){if(!e)return!1;const t=e.subscriptions;return!!t.length&&t.map((e=>e.product_code)).some((e=>zn.includes(e)))}async function jn(e){if(window.confirm(e||"Are you sure you want to log out? Logging out will remove all your Anaconda Assistant data.")){try{await async function(){const e=await Tn();e?yn("sync_disk_state",{headers:{"X-Nucleus-Token":e.accessToken},method:"POST",body:JSON.stringify({})}):console.log("Could not sync state, no access token")}()}catch(e){console.error("Error clearing disk state",e)}Mn(),_n();try{await yn("logout")}catch(e){console.error("Error logging out",e)}Ze.getState().logout()}}async function Wn(){Hn(),Mn(),_n(),await yn("login");const e=await Tn();if(!e)return jn();Rn().accessToken.setAccessToken(e);const t=await In(),n=Ze.getState();n.setAccess(Boolean(t)),await n.updateAccount();const a=Kn;if(!a)return void console.error("Could not find Jupyter Front End");const s=a.shell.currentWidget?.context,o=s?.factoryName;!(o&&"notebook"===o.toLowerCase())&&Ze.getState().account&&await a.commands.execute("notebook:create-new"),await On(),n.resetToHomeScreen(),Bn()}let Kn=null;const Gn=e=>async t=>{const n=e.currentWidget;if(!n)return;let a=Ze.getState().settings.addCodeToNotebook||"below-active-cell";"in-place"===a&&(a="below-active-cell");const s=xt(t.content);let o=!1;for(const e of s){switch(a){case"below-active-cell":h.NotebookActions.insertBelow(n.content);break;case"at-end-of-notebook":n.content.activeCellIndex=n.content.widgets.length-1,h.NotebookActions.insertBelow(n.content)}"python"===e.type?h.NotebookActions.changeCellType(n.content,"code"):h.NotebookActions.changeCellType(n.content,"markdown");const s=["# "+("user"===t.role?"User":"Assistant"),e.content];o?s.shift():o=!0;const r=s.join("\n");await(n.content?.activeCell?.ready),h.NotebookActions.replaceSelection(n.content,r),await h.NotebookActions.run(n.content,n.sessionContext)}};function Jn({tracker:e,addCodeToNotebook:t,scrollFn:n}){const a=Be().getFeatureFlagBool("assistant-show-context-selector",!1),[s,o,r,i,c,l,u,p,g,f,b,C,x]=Ze((e=>{const t=W(e),n=J(e);return[t?.messages,t?.context,t?.inProgress,t?.inProgress?.type,t?.session,e.retryError,n?.notebookState.selectedText?.text,n?.path,e.deleteMessagesStartingWith,e.submitFeedback,K(e),e.account?.metadata?.is_pro_tier,e.resetActiveChat]}));if(!s||!o)return null;const y=s[0];function w(e,t,n){f({messageId:e,sentiment:t,text:n})}return m().createElement(m().Fragment,null,m().createElement(an,null),"user"===y?.role&&m().createElement(lt,{isInitialMessage:!0,deleteMessagesAfterId:Ze((e=>e.deleteMessagesStartingWith)),exportMessage:Gn(e),message:{...y,content:Yn(o,y.content,a?p:void 0)}}),s.slice(1).map((n=>{if(n.content.startsWith(mt)&&(n.content.includes(ht)||n.content.includes(pt)))return null;switch(n.role){case"user":return m().createElement(lt,{key:n.messageId,deleteMessagesAfterId:g,exportMessage:Gn(e),message:{...n,content:bt(n.content)}});case"assistant":return m().createElement(It,{key:n.messageId,runCode:t,assistantMessage:n,selectedText:u,activeChatSession:c,handleFeedback:w,handleExportMessage:Gn(e),handleDeleteMessageAfterId:g})}})),"active"===i&&m().createElement(Rt,{response:b,selectedText:u,activeChatSession:c,scrollFn:n}),"error"===i&&r&&m().createElement(Pt,{errorMessage:"message"in r?r.message:"unknown error",retryError:l,showLogoutButton:Boolean(rn()),isProTier:C,resetChat:x,logout:jn}),i?null:m().createElement("div",{className:"as-export-chat-container",onClick:async function(){const t=e.currentWidget;if(!t||!s)return;let n=Ze.getState().settings.addCodeToNotebook||"below-active-cell";"in-place"===n&&(n="below-active-cell");for(const e of s){const a=xt(e.content);let s=!1;for(const o of a){switch(n){case"below-active-cell":h.NotebookActions.insertBelow(t.content);break;case"at-end-of-notebook":t.content.activeCellIndex=t.content.widgets.length-1,h.NotebookActions.insertBelow(t.content)}"python"===o.type?h.NotebookActions.changeCellType(t.content,"code"):h.NotebookActions.changeCellType(t.content,"markdown");const a=["# "+("user"===e.role?"User":"Assistant"),o.content];s?a.shift():s=!0;const r=a.join("\n");await(t.content?.activeCell?.ready),h.NotebookActions.replaceSelection(t.content,r),await h.NotebookActions.run(t.content,t.sessionContext)}}}},m().createElement(d.ChevronLeft,null),m().createElement("div",null,"Export and run this chat in your Notebook")))}function Yn(e,t,n){const a=yt(e,t,n);switch(e.type){case"graph-dataframe":return`Generate graph for ${a}`;case"describe-dataframe":return`Explain data in ${a}`;case"explain-code":return`Explain ${a}`;case"comment-code":return`Comment ${a}`;case"improve-code":return`Refactor ${a}`;case"debug-error":return`Debug error using ${a}`;case"suggestions-chat":case"default-python":return t.startsWith(mt)?bt(t):`${t} (using ${a})`;default:return t}}async function Xn(){const e=await Tn();if(!e)return void console.log("Could not sync state, no access token");const t=await yn("monitor_file_changes");if(t){const{path:n,last_modified:a}=t,s=Ze.getState(),o=J(s),r=W(s);o&&o.path===n?await Qn(r,n,a,s.settings.enableDataCollection,e):Ze.getState().addSummarizedFile(n,"",a)}}async function Qn(e,t,n,a,s){let o=s;if(!o&&(o=await Tn(),!o))throw console.log("Could not sync state, no access token"),new Error("Could not sync state, no access token");const r=l.getCoreReady().config,i=await yn("summarize_file",{headers:{"X-Nucleus-Token":o.accessToken},method:"POST",body:JSON.stringify({x_client_source:r.assistant.environmentType,file_path:t,session_id:e?.session?.sessionId||"",response_message_id:e?.messages[e?.messages.length-1]?.messageId||"",skip_logging:!a})});return Ze.getState().addSummarizedFile(t,i.data.summary,n),i.data.summary}function ea({tracker:e,addCodeToNotebook:t,getActiveCodeCell:n}){const a=Ze((e=>J(e)?.activeChatKey)),s=(0,u.useRef)(null),[o,r,i,c,l,d,h,p,g,f]=Ze((e=>{const t=J(e);return[t,e.selectChatStarter,e.makeChatRequest,e.settings.enableDataCollection,t?.suggestionState.dataframe,t?.notebookState.dataframes,e.account?.metadata?.is_pro_tier,e.updateSuggestions,e.resetActiveChat,e.setSuggestionsDataframe]})),b=Boolean(rn()),C=o?.homeScreen?.chatStarters??null,x=o?.homeScreen?.selectedChatStarter??null,y=o?.suggestionState,w=(0,u.useCallback)((0,F.throttle)((function(){s.current?.scrollIntoView({behavior:"smooth"})}),500),[]);return m().createElement(m().Fragment,null,m().createElement("div",{className:"as-chat-main-section"},a?m().createElement(Jn,{tracker:e,addCodeToNotebook:t,scrollFn:w}):m().createElement(Yt,{chatStarters:C,selectedChatStarter:x,selectChatStarter:r,makeChatRequest:i,getActiveCodeCell:n,dataFrames:d,enableDataCollection:c,activeNotebook:Boolean(o),suggestionState:y,updateSuggestions:(e,t,n)=>{p(e,t,n,Rn())},setSuggestionsDataframe:f,isProTier:h,resetActiveChat:g,showLogoutButton:b,logout:jn,suggestionDataFrame:l}),m().createElement("div",{style:{float:"left",clear:"both"},ref:s})),m().createElement(Ke,{scrollFn:w,tokenLimit:hn,fetchFileSummary:Qn}))}var ta=n(2955);function na({error:e,resetErrorBoundary:t}){return m().createElement("div",{className:"as-error-screen"},m().createElement(Pt,{showLogoutButton:!0,errorMessage:e.message,retryError:t,logout:()=>jn()}))}var aa=n(2453),sa=n(2959);function oa(){const[e,t,n,a,s]=Ze((e=>[e.account,e.settings.enableDataCollection,e.setEnableDataCollection,e.settings.addCodeToNotebook,e.setAddCodeToNotebook,W(e)])),o=Boolean(e?.metadata?.is_starter_tier),r=Boolean(e?.metadata?.is_pro_tier),i=a||"below-active-cell",c=(0,aa.Z)({palette:{primary:{main:"#43B049"}},typography:{fontSize:11}});return m().createElement(sa.Z,{theme:c},m().createElement(qt,{showLogout:()=>e&&rn()?{logout:jn,accountUserEmail:e?.user.email||""}:null,enableDataCollection:t,setEnableDataCollection:n,addCodeToNotebook:i,setAddCodeToNotebook:s,isProTier:r,isStarterTier:o,isCloudNotebooks:cn()}))}function ra(){return m().createElement("div",{className:"as-container"},m().createElement("div",{style:{marginTop:70}}),m().createElement("div",{className:"as-home-screen-container"},m().createElement("div",{className:"as-home-screen-icon"},m().createElement(d.ChatBot,null)),m().createElement("div",{className:"as-title-text"},"Anaconda Assistant",m().createElement("div",{className:"as-version-text"},mn)),m().createElement("div",{className:"as-access-body-container"},m().createElement("div",{className:"as-access-inner-container"},m().createElement("div",{className:"as-access-header"},"Welcome!"),m().createElement("div",{className:"as-access-text"},"Unfortunately, you do not seem to have access to the Anaconda Assistant. This could either occur for an issue with your credentials, or because your organization has not requested for access to the Anaconda Assistant for their users. To gain access, please reach out to your organization administrator or our support team. In the meantime, enjoy exploring the many other features and tools available to you. Thank you for being part of the Anaconda community!"," ",m().createElement("a",{href:"https://www.anaconda.com/blog/anaconda-assistant-launches-to-bring-instant-data-analysis-code-generation-and-insights-to-users",target:"_blank"},"Learn About Anaconda Assistant"),".")),m().createElement("div",{className:"as-access-inner-container-buttons"},m().createElement("button",{className:"as-access-button",onClick:()=>("https://www.anaconda.com/contact",void(window.location.href="https://www.anaconda.com/contact"))},"Contact Us"),m().createElement("button",{className:"as-logout-button",onClick:()=>jn()},"Logout")))))}function ia(e){return u.createElement(ta.SV,{FallbackComponent:na},u.createElement(ca,{...e}))}function ca(e){const[t,n]=u.useState(!1),[a,s,o,r,i,c,l,d,m,h,p,g,f,b,C]=Ze((e=>[e.access,e.terms.accepted,e.acceptTerms,e.settings.open,e.settings.enableDataCollection,e.setEnableDataCollection,e.menuOpen,e.setMenuOpen,e.toggleMenuOpen,e.resetToHomeScreen,e.toggleSettings,B(e),W(e),e.setActiveChat,e.deleteChat]));return a?s?u.createElement("div",{className:"as-container"},u.createElement(Ge,{activeChat:!!f,clientVersion:mn,chatsHistoryOpen:l,showSettings:pn,settingsOpen:r,toggleChatsHistory:m,newChatClicked:h,toggleSettings:p}),r?u.createElement(oa,null):l?u.createElement(Zt,{chats:g,activeChat:f,setActiveChat:b,deleteChat:C,closeHistory:()=>d(!1)}):u.createElement(ea,{...e})):u.createElement("div",{className:"as-container"},u.createElement(Ge,{disableMenu:!0,activeChat:!!f,clientVersion:mn,chatsHistoryOpen:l,showSettings:pn,settingsOpen:r,toggleChatsHistory:m,newChatClicked:h,toggleSettings:p}),u.createElement(Ht,{accept:async()=>{let e=Ze.getState().terms.version;if(!e)try{e=await In()}catch(e){return console.error("Failed to fetch terms version"),void Ze.getState().logout()}o(e,!0)},enableDataCollection:i,setEnableDataCollection:c,olderThan13:t,setOlderThan13:n})):u.createElement(ra,null)}const la=2500;function da(e,t){return e>la&&e-t.source.length<la?t.source.slice(0,la-(e-t.source.length)-3)+"...":e>la?"...":t.source}function ua(e,t){const n=e.getOffsetAt(t.start),a=e.getOffsetAt(t.end),s=e.model.sharedModel.getSource();return{text:s.substring(n,a),cell:{id:t.uuid?.toString()||"",source:s}}}function ma(){return m().createElement("div",{className:"as-container"},m().createElement("div",{className:"as-login-container"},m().createElement("div",{className:"as-login-header"},m().createElement("div",{className:"as-login-icon"},m().createElement(d.AnacondaLogo,null)),m().createElement("div",{className:"as-title-text"},"Anaconda Assistant",m().createElement("div",{className:"as-subtitle-text"},"AI-powered coding, insights and debugging in your notebooks."))),m().createElement("div",{className:"as-login-body"},"To enable the following extensions, create an account or sign in.",m().createElement("ul",null,m().createElement("li",null,m().createElement(d.Sparkle,null)," Anaconda Assistant",m().createElement("div",{className:"as-version-text"},mn)),m().createElement("li",{className:"coming-soon"},"Coming soon!"),m().createElement("li",{className:"disabled"},m().createElement(d.DataCatalog,null)," Data Catalogs"),m().createElement("li",{className:"disabled"},m().createElement(d.Panel,null)," Panel Deployments"),m().createElement("li",{className:"disabled"},m().createElement(d.Share,null)," Sharing")),m().createElement("button",{className:"as-create-account-button",onClick:Wn},"Create Account"),m().createElement("div",{className:"as-login-sign-in-text"},"Already have an account? ",m().createElement("a",{onClick:Wn},"Sign In"))),m().createElement("div",{className:"as-login-footer"},m().createElement("div",{className:"as-login-help"},m().createElement(d.Question,null)),m().createElement("div",{className:"as-login-footer-text"},"For more information, read our"," ",m().createElement("a",{href:"https://docs.anaconda.com/free/anaconda-notebooks/anaconda-assistant/",target:"_blank"},"Anaconda Assistant documentation"),"."))))}function ha({tracker:e}){const[t,n,a,s]=Ze((e=>[e.account,e.path,e.setPath,e.setCellError])),o=(0,u.useRef)(!1),r=(0,u.useRef)(null),i=(0,u.useRef)(null);(0,L.Yz)((()=>{!function(e){const t=e.currentWidget?.content?.activeCell?.editor,n="text/x-ipythongfm"===t?.model.mimeType;if(t&&!n){const e=t.getSelection(),n=function(e,t){return null!==e&&e.uuid===t.uuid&&e.startColumn===t.start.column&&e.endColumn===t.end.column&&e.startRow===t.start.line&&e.endRow===t.end.line}(i.current,e);if(!n){const n=ua(t,e);Ze.getState().setTextSelection(n),i.current=function(e){return{uuid:e.uuid?.toString()||"",startColumn:e.start.column,startRow:e.start.line,endColumn:e.end.column,endRow:e.end.line}}(e)}}}(e)}),800);const c=(0,u.useCallback)((()=>{const t=pa(e)?.requestExecute({code:'\nimport json\nimport getpass\nimport hashlib\n\ndef import_pandas_safely():\n    try:\n        return __import__(\'pandas\')\n    except ImportError:\n        return False\n\n\n__pandas = import_pandas_safely()\n\n\ndef is_data_frame(v: str):\n    obj = eval(v)\n    if  isinstance(obj, __pandas.core.frame.DataFrame) or isinstance(obj, __pandas.core.series.Series):\n        return True\n\n\ndef dataframe_columns(var):\n    df = eval(var)\n    if isinstance(df, __pandas.core.series.Series):\n        return [[df.name, str(df.dtype)]]\n    return list(map(lambda col: [col, str(df[col].dtype)], df.columns))\n\n\ndef dtypes_str(frame):\n    return str(eval(frame).dtypes)\n\ndef dataframe_hash(var):\n    # Return a hash including the column names and number of rows\n    df = eval(var)\n    if isinstance(df, __pandas.core.series.Series):\n        return hashlib.sha256(f"{var}-{df.name},{len(df)}".encode(\'utf-8\')).hexdigest()\n    return hashlib.sha256(f"{var}-{\',\'.join(df.columns)},{len(df)}".encode(\'utf-8\')).hexdigest()\n\ndef get_dataframes():\n    if __pandas is None:\n        return []\n    user = getpass.getuser()\n    values = %who_ls\n    dataframes = [\n        {\n            "name": var,\n            "type": type(eval(var)).__name__,\n            "hash": dataframe_hash(var),\n            "cols": dataframe_columns(var),\n            "dtypesStr": dtypes_str(var),\n        }\n        for var in values if is_data_frame(var)\n    ]\n    result = {"dataframes": dataframes, "user": user}\n    return json.dumps(result, ensure_ascii=False)\n\n\nget_dataframes()\n'},!1);t&&(t.onIOPub=t=>{if(p.KernelMessage.isExecuteResultMsg(t)&&t.content.data&&t.content.data["text/plain"]){const n=function(e){try{if("string"!=typeof e)return null;const t=e.replace(/^'/,"").replace(/'$/,""),n=JSON.parse(t);return n.dataframes||(n.dataframes=[]),n.dataframes=n.dataframes.map((e=>({cols:e.cols,hash:e.hash,name:e.name,type:e.type,dtypesStr:e.dtypesStr}))),n}catch(e){return console.error("Could not parse variables",e),null}}(t.content.data["text/plain"]);if(n){const t=e.currentWidget?.context.path||"";a(t,n,Fn)}}})}),[a,e]),l=(0,u.useCallback)(((e,t)=>{const{cell:n,notebook:a,success:o,error:i}=t;c(),!o&&i&&s(function(e,t,n){const a=e.model.sharedModel.getId(),s=t.widgets.findIndex((e=>e.model.sharedModel.getId()===a));return-1===s?null:{precedingCells:function(e){let t=0;return e.reverse().map((e=>(t+=e.source.length,{id:e.id,source:da(t,e)}))).reverse()}(t.widgets.slice(0,s).filter((e=>"code"===e.model.type)).map((e=>({id:e.model.sharedModel.getId(),source:e.model.sharedModel.getSource()})))),cell:{id:a,source:e.model.sharedModel.getSource()},errorText:n}}(n,a,i.message)),r.current?.cellId&&r.current?.cellId===n.model.id&&(async function(e,t,n,a){try{return await e.submitCodeExecutionResult(function(e,t,n){return{session:e.session,executionResult:{code:e.code,success:t,messageId:e.activeMessageId,error:n?{message:n.message,stack:n.stack,name:n.name}:null}}}(t,n,a))}catch(e){console.error("Error posting feedback: ",e)}}(Rn(),{...r.current},o,i),r.current=null)}),[c,s]);return(0,u.useEffect)((()=>{function t(e,t){a(t?.sessionContext.path||"",{user:"",dataframes:[]},Fn),On(),t?.sessionContext.session?c():setTimeout(c,1e3)}function n(e,t){"restarting"===t||"autorestarting"===t?o.current=!0:"idle"===t&&o.current&&(o.current=!1,c())}return c(),h.NotebookActions.executed.connect(l),e.currentChanged.connect(t),pa(e)?.statusChanged.connect(n),()=>{h.NotebookActions.executed.disconnect(l),e.currentChanged.disconnect(t),pa(e)?.statusChanged.disconnect(n)}}),[c,l,a,e]),!t&&rn()?u.createElement(ma,null):n?u.createElement(ia,{tracker:e,addCodeToNotebook:async function(t,n,a,s=!1){const o=e.currentWidget,i=Ze.getState().settings.addCodeToNotebook||"below-active-cell";if(o){if(!s)switch(i){case"below-active-cell":h.NotebookActions.insertBelow(o.content);break;case"at-end-of-notebook":o.content.activeCellIndex=o.content.widgets.length-1,h.NotebookActions.insertBelow(o.content)}await(o.content?.activeCell?.ready),h.NotebookActions.replaceSelection(o.content,t);const e=o.content.activeCell?.model.id;r.current={code:t,cellId:e,activeMessageId:n,session:a},await h.NotebookActions.run(o.content,o.sessionContext)}},getActiveCodeCell:function(){return(e.currentWidget?.content.activeCell?.model.sharedModel).source||""}}):null}function pa(e){return e.currentWidget?.sessionContext.session?.kernel}class ga extends s.ReactWidget{_notebookTracker;constructor(e){super(),this._notebookTracker=e}render(){const e=(0,aa.Z)({palette:{primary:{main:"#43B049"}}});return u.createElement(sa.Z,{theme:e},u.createElement(ha,{tracker:this._notebookTracker}))}}class fa extends r.Widget{opts;content=null;manuallyClosed="true"===window.localStorage.getItem("anaconda-assistant-keep-hidden");constructor(e){super(),this.opts=e,this.initialize(),this.title.caption="Anaconda Assistant";const t=this.processMessage.bind(this);this.processMessage=e=>{this._onMessageFn&&this._onMessageFn(e),t(e)},this.onMessage((e=>{((e,t,n=100)=>{c.push(e),clearTimeout(i),i=setTimeout((()=>{c.length>0&&t&&t(c),c=[]}),n)})(e,(e=>{const t=e.find((e=>"after-hide"===e.type)),n=e.find((e=>"after-detach"===e.type)),a=e.find((e=>"after-show"===e.type));t&&!n&&(this.keepAssistantHidden(!0),2===e.length&&this.hideFirstTimeLoginPage()),a&&this.keepAssistantHidden(!1)}))}))}initialize(){const e=this.layout=new r.PanelLayout;this.addClass("jp-SidePanel"),this.content=new r.Panel;const t=new ga(this.opts.notebookTracker);t.addClass("as-widget-content"),this.content.addWidget(t),this.content.node.setAttribute("role","region"),this.content.node.setAttribute("aria-label","Assistant content"),this.content.addClass("as-widget-content"),this.addClass("as-widget-container"),e.addWidget(this.content),this.id="anaconda-assistant",this.title.icon=a,this.title.closable=!0}_onMessageFn=null;onMessage(e){this._onMessageFn=e}activateWidget(e=this.manuallyClosed){const t=this.opts.jupyterFrontEnd;this.isAttached&&this.parent?.isVisible||(this.isDisposed&&this.initialize(),this.isAttached||(t.shell.add(this,"right"),this.opts.isJupyterNotebook&&t.shell.addClass("as-notebook-container")),this.parent?.isVisible||e||(this.manuallyClosed=!1,this.show(),this.parent?.show()),e||t.shell.activateById(this.id))}hideWidget(){this.hide(),this.parent?.hide(),this.hideFirstTimeLoginPage()}hideFirstTimeLoginPage(){window.localStorage.setItem("anaconda-assistant-opened-once","true")}keepAssistantHidden(e){window.localStorage.setItem("anaconda-assistant-keep-hidden",e?"true":"false"),this.manuallyClosed=e}toggleWidget(){return this.isAttached&&this.parent?.isVisible?(this.manuallyClosed=!0,void this.hideWidget()):(this.manuallyClosed=!1,this.activateWidget())}}var ba=n(7263);function Ca(e){return async function(){const{assistant:t,notebookTracker:n}=e;t.activateWidget(!1);const a=n.activeCell,s=a?.editor;if(!s)return;const o=s?.getSelection(),r=ua(s,o);if(r.text)Ze.getState().setTextSelection(r);else if(a instanceof ba.CodeCell){const e=s.getLine(s.lineCount-1)||"",t=s.lineCount-1;s.setSelection({start:{line:0,column:0},end:{line:t,column:e.length}});const n=s.getSelection(),a=ua(s,n);Ze.getState().setTextSelection(a)}}}const xa="assistant:toggle";class ya{async activate(e,t){const{corePlugin:n,notebookTracker:s,palette:r,isJupyterNotebook:i=!1}=t;if(await l.setCore(n),!l.getFeatureFlagBool("monorepo-assistant"))return;Kn=e;const c=l.getCoreReady().config;await async function(e){Ln=new Oe(e);try{const e=await Tn();if(!e)throw new Error("No access token");Ln.accessToken.setAccessToken(e)}catch(e){console.log("Error fetching access: ",e)}return Ln}({clientVersion:mn,apiUrl:c.assistant.apiUrl||void 0,environmentType:c.assistant.environmentType,enableDataCollection:!1}),await(async e=>($e=new He(e),await Ze,$e))({getAssistantSdk:Rn,getServerUrl:fn,getNucleusAccount:Dn,getAccountMaxTokens:qn,isLocalDev:on,syncDiskStateChained:On,unbindSyncDiskStateChained:Hn,deletedChatKeys:Pn,getFeatureFlagBool:l.getCoreReady().featureFlag.getBool}),Ze.getState().settings.enableDataCollection&&Rn().enableDataCollection(),console.log("Assistant extension activated!"),await On(),Bn(),async function(){if(!await Tn())return void console.log("Could not sync state, no access token");const e=Ze.getState();if(e.account?.metadata?.is_pro_tier)for(;Ze.getState().account?.metadata?.is_pro_tier;)await Xn(),await new Promise((e=>setTimeout(e,1e3)))}();const d=new fa({notebookTracker:s,jupyterFrontEnd:e,isJupyterNotebook:i}),u=new o(e.commands);!function(e){const{assistant:t,jupyterFrontEnd:n}=e;if("function"!=typeof n.shell?._currentChanged?.connect)return;let a=!1;const s=V().debounce((async function(){const e=n.shell.currentWidget?.context,s=e?.factoryName,o=s&&"notebook"===s.toLowerCase(),r=new URLSearchParams(window.location.search),i=r.get("open_assistant");if(r.delete("open_assistant"),window.history.replaceState({},"",`${window.location.pathname}?${r}`),"true"===i)return a=!0,!o&&Ze.getState().account&&await n.commands.execute("notebook:create-new"),void t.activateWidget();if((!a||Ze.getState().account)&&!o&&Boolean(window.localStorage.getItem("anaconda-assistant-opened-once")))return t.hideWidget(),void t.close();t.parent&&t.isAttached&&t.parent?.isVisible||t.activateWidget(t.manuallyClosed);const c=Ze.getState();!e?.path||c.path&&c.path===e.path||Ze.getState().setPath(e?.path||"",{user:c.user||"",dataframes:[]},Fn)}),100);n.shell._currentChanged.connect(s),s()}({assistant:d,jupyterFrontEnd:e}),e.commands.addCommand(xa,{label:"Open Anaconda Assistant",execute:()=>d.toggleWidget()}),e.contextMenu.addItem({command:xa,selector:".jp-Notebook"}),r.addItem({command:xa,category:"Assistant"}),e.docRegistry.addWidgetExtension("Notebook",u),e.commands.addCommand("assistant:cell",{icon:a,execute:Ca({assistant:d,notebookTracker:s})});const m=setInterval((async()=>{const t=Ze.getState();if(t.account){clearInterval(m);const n=e.shell.currentWidget?.context,a=n?.factoryName;a&&"notebook"===a.toLowerCase()||Boolean(window.localStorage.getItem("anaconda-assistant-opened-once"))||(await e.commands.execute("notebook:create-new"),window.localStorage.setItem("anaconda-assistant-opened-once","true")),await t.updateAccount()}}),100);setInterval((async()=>{const e=Ze.getState();await e.updateAccount()}),3e5),window.addEventListener("storage",(async e=>{try{if("anaconda-assistant"===e.key&&e.oldValue&&e.newValue){const t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue),a=t.state,s=n.state,o=t.terms.version,r=n.terms.version;if(!a||!s)return;null!==o&&null===r&&await jn(["An Assistant in another browser tab logged out.","You will need to log in again to use the Assistant."].join(" "))}}catch(e){console.error("Error detecting logouts from other tabs",e)}}))}}}}]);